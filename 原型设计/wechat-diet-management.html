<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é¥®é£Ÿç®¡ç† - AIè¥å…»å¸ˆæ–‡æ…§</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 0;
            background: #f7f7f7;
            height: 100vh;
            overflow: hidden;
        }
        
        /* å¾®ä¿¡å¯¼èˆªæ  */
        .wechat-header {
            background: #393a3f;
            color: white;
            height: 64px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 16px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        
        /* å¯¹è¯åŒºåŸŸ */
        .chat-container {
            height: calc(100vh - 64px - 80px);
            overflow-y: auto;
            padding: 16px;
            background: #f7f7f7;
        }
        
        /* æ¶ˆæ¯æ°”æ³¡ */
        .message {
            margin-bottom: 16px;
            display: flex;
            align-items: flex-end;
        }
        
        .message.ai {
            justify-content: flex-start;
        }
        
        .message.user {
            justify-content: flex-end;
        }
        
        .avatar {
            width: 40px;
            height: 40px;
            border-radius: 6px;
            background: #07c160;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            margin: 0 8px;
            flex-shrink: 0;
        }
        
        .avatar.ai {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .message-bubble {
            max-width: 280px;
            padding: 12px 16px;
            border-radius: 18px;
            font-size: 16px;
            line-height: 1.4;
            position: relative;
        }
        
        .message-bubble.ai {
            background: white;
            border-top-left-radius: 6px;
            box-shadow: 0 1px 2px rgba(0,0,0,0.1);
        }
        
        .message-bubble.user {
            background: #07c160;
            color: white;
            border-top-right-radius: 6px;
        }
        
        /* è¾“å…¥åŒºåŸŸ */
        .input-area {
            height: 80px;
            background: white;
            border-top: 1px solid #e5e5e5;
            display: flex;
            align-items: center;
            padding: 0 16px;
            gap: 12px;
        }
        
        .input-actions {
            display: flex;
            gap: 12px;
        }
        
        .action-btn {
            width: 36px;
            height: 36px;
            border-radius: 6px;
            background: #f5f5f5;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .action-btn:hover {
            background: #e5e5e5;
        }
        
        .action-btn.camera {
            background: #ff6b6b;
            color: white;
        }
        
        .action-btn.camera:hover {
            background: #ff5252;
        }
        
        .input-field {
            flex: 1;
            height: 36px;
            border: 1px solid #e5e5e5;
            border-radius: 18px;
            padding: 0 16px;
            font-size: 16px;
            outline: none;
        }
        
        .send-btn {
            width: 36px;
            height: 36px;
            border-radius: 18px;
            background: #07c160;
            border: none;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }
        
        .send-btn:hover {
            background: #06ad56;
        }
        
        /* é£Ÿç‰©è¯†åˆ«å¡ç‰‡ */
        .food-recognition-card {
            background: white;
            border-radius: 12px;
            padding: 16px;
            margin-top: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border: 2px solid #ff6b6b;
        }
        
        .food-image {
            width: 100%;
            height: 150px;
            background: #f8f9fa;
            border-radius: 8px;
            margin-bottom: 12px;
            background-image: url('https://images.unsplash.com/photo-1546554137-f86b9593a222?w=300&h=150&fit=crop&crop=center');
            background-size: cover;
            background-position: center;
            position: relative;
        }
        
        .recognition-badge {
            position: absolute;
            top: 8px;
            right: 8px;
            background: #ff6b6b;
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: bold;
        }
        
        .food-title {
            color: #ff6b6b;
            font-weight: bold;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        /* è¥å…»ä¿¡æ¯å¡ç‰‡ */
        .nutrition-info {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-top: 12px;
        }
        
        .nutrition-item {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 12px;
            text-align: center;
        }
        
        .nutrition-value {
            font-size: 20px;
            font-weight: bold;
            color: #333;
            margin-bottom: 4px;
        }
        
        .nutrition-label {
            font-size: 12px;
            color: #666;
        }
        
        .nutrition-item.calories {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
        }
        
        .nutrition-item.calories .nutrition-value {
            color: #d63384;
        }
        
        /* 211é¥®é£Ÿç»“æ„å¡ç‰‡ */
        .diet-structure-card {
            background: white;
            border-radius: 12px;
            padding: 16px;
            margin-top: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border: 2px solid #28a745;
        }
        
        .structure-title {
            color: #28a745;
            font-weight: bold;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .plate-visual {
            background: white;
            border: 3px solid #28a745;
            border-radius: 50%;
            width: 120px;
            height: 120px;
            margin: 0 auto 16px;
            position: relative;
            overflow: hidden;
        }
        
        .plate-section {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        
        .section-vegetables {
            background: linear-gradient(0deg, #28a745 0%, #28a745 50%, transparent 50%);
        }
        
        .section-protein {
            background: linear-gradient(90deg, transparent 50%, #ff6b6b 50%);
            clip-path: polygon(50% 0%, 100% 0%, 100% 100%, 50% 100%);
        }
        
        .section-carbs {
            background: linear-gradient(180deg, transparent 50%, #ffc107 50%);
            clip-path: polygon(0% 50%, 50% 50%, 50% 100%, 0% 100%);
        }
        
        .structure-breakdown {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
            margin-top: 12px;
        }
        
        .structure-item {
            text-align: center;
            padding: 8px;
            border-radius: 8px;
            font-size: 12px;
        }
        
        .structure-item.vegetables {
            background: rgba(40, 167, 69, 0.1);
            color: #28a745;
        }
        
        .structure-item.protein {
            background: rgba(255, 107, 107, 0.1);
            color: #ff6b6b;
        }
        
        .structure-item.carbs {
            background: rgba(255, 193, 7, 0.1);
            color: #ffc107;
        }
        
        /* å»ºè®®å¡ç‰‡ */
        .suggestion-card {
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            border-radius: 12px;
            padding: 16px;
            margin-top: 12px;
            border: 1px solid #2196f3;
        }
        
        .suggestion-title {
            color: #1976d2;
            font-weight: bold;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        .suggestion-content {
            color: #1976d2;
            font-size: 14px;
            line-height: 1.4;
        }
        
        /* å¿«é€Ÿæ“ä½œæŒ‰é’® */
        .quick-actions {
            display: flex;
            gap: 8px;
            margin-top: 12px;
            flex-wrap: wrap;
        }
        
        .quick-btn {
            background: #f0f9ff;
            border: 1px solid #3b82f6;
            color: #1e40af;
            border-radius: 16px;
            padding: 6px 12px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .quick-btn:hover {
            background: #3b82f6;
            color: white;
        }
        
        /* æ¯æ—¥æ€»ç»“å¡ç‰‡ */
        .daily-summary-card {
            background: linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%);
            border-radius: 12px;
            padding: 16px;
            margin-top: 8px;
            border: 2px solid #9c27b0;
        }
        
        .summary-title {
            color: #7b1fa2;
            font-weight: bold;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .summary-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-bottom: 12px;
        }
        
        .summary-stat {
            text-align: center;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 8px;
            padding: 8px;
        }
        
        .stat-value {
            font-size: 18px;
            font-weight: bold;
            color: #7b1fa2;
            margin-bottom: 2px;
        }
        
        .stat-label {
            font-size: 10px;
            color: #7b1fa2;
        }
        
        .progress-bar {
            background: rgba(255, 255, 255, 0.3);
            border-radius: 10px;
            height: 8px;
            overflow: hidden;
            margin-top: 8px;
        }
        
        .progress-fill {
            background: #7b1fa2;
            height: 100%;
            border-radius: 10px;
            transition: width 0.8s ease;
        }
        
        /* å›¾ç‰‡ä¸Šä¼ åŒºåŸŸ */
        .upload-area {
            border: 2px dashed #ff6b6b;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            margin-top: 8px;
            background: #fff5f5;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .upload-area:hover {
            background: #ffe5e5;
            border-color: #ff5252;
        }
        
        .upload-icon {
            font-size: 24px;
            color: #ff6b6b;
            margin-bottom: 8px;
        }
        
        .upload-text {
            color: #ff6b6b;
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .upload-hint {
            color: #999;
            font-size: 12px;
        }
        
        /* æ‰“å­—åŠ¨ç”» */
        .typing-indicator {
            display: flex;
            align-items: center;
            gap: 4px;
            color: #999;
            font-size: 14px;
        }
        
        .typing-dots {
            display: flex;
            gap: 2px;
        }
        
        .typing-dot {
            width: 4px;
            height: 4px;
            border-radius: 50%;
            background: #999;
            animation: typing 1.4s infinite;
        }
        
        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }
        
        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }
        
        @keyframes typing {
            0%, 60%, 100% { opacity: 0.3; }
            30% { opacity: 1; }
        }
    </style>
</head>
<body>
    <!-- å¾®ä¿¡å¯¼èˆªæ  -->
    <div class="wechat-header">
        <div class="flex items-center">
            <i class="fas fa-arrow-left text-lg mr-4"></i>
            <div class="flex items-center">
                <div class="w-8 h-8 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center mr-3">
                    <i class="fas fa-robot text-white text-sm"></i>
                </div>
                <div>
                    <div class="font-semibold">AIè¥å…»å¸ˆæ–‡æ…§</div>
                    <div class="text-xs text-gray-300">é¥®é£Ÿç®¡ç†ä¸“å®¶</div>
                </div>
            </div>
        </div>
        <i class="fas fa-ellipsis-h text-lg"></i>
    </div>
    
    <!-- å¯¹è¯åŒºåŸŸ -->
    <div class="chat-container" id="chatContainer">
        <!-- AIæ¬¢è¿æ¶ˆæ¯ -->
        <div class="message ai">
            <div class="avatar ai">
                <i class="fas fa-robot"></i>
            </div>
            <div class="message-bubble ai">
                Hiï¼æˆ‘æ˜¯ä½ çš„ä¸“å±é¥®é£Ÿç®¡å®¶æ–‡æ…§ ğŸ½ï¸<br><br>
                å‡†å¤‡å¥½å¼€å§‹ä»Šå¤©çš„è¥å…»ä¹‹æ—…äº†å—ï¼Ÿæˆ‘å¯ä»¥å¸®ä½ ï¼š
                
                <div class="quick-actions">
                    <div class="quick-btn" onclick="takePhoto()">ğŸ“¸ æ‹ç…§è¯†åˆ«</div>
                    <div class="quick-btn" onclick="recordMeal()">ğŸ½ï¸ è®°å½•é¥®é£Ÿ</div>
                    <div class="quick-btn" onclick="getNutritionTips()">ğŸ’¡ è¥å…»å»ºè®®</div>
                </div>
            </div>
        </div>
        
        <!-- ç”¨æˆ·æ¶ˆæ¯ -->
        <div class="message user">
            <div class="message-bubble user">
                æˆ‘æƒ³æ‹ç…§è¯†åˆ«ä¸€ä¸‹è¿™é¡¿åˆé¤
            </div>
            <div class="avatar">
                <i class="fas fa-user"></i>
            </div>
        </div>
        
        <!-- AIå›å¤ - æ‹ç…§æŒ‡å¯¼ -->
        <div class="message ai">
            <div class="avatar ai">
                <i class="fas fa-robot"></i>
            </div>
            <div class="message-bubble ai">
                å¤ªå¥½äº†ï¼è¯·æ‹ä¸€å¼ æ¸…æ™°çš„é£Ÿç‰©ç…§ç‰‡ï¼Œæˆ‘æ¥ä¸ºä½ åˆ†æï¼š
                
                <div class="upload-area" onclick="simulatePhotoUpload()">
                    <div class="upload-icon">
                        <i class="fas fa-camera"></i>
                    </div>
                    <div class="upload-text">ç‚¹å‡»æ‹ç…§æˆ–é€‰æ‹©ç…§ç‰‡</div>
                    <div class="upload-hint">æ”¯æŒ JPGã€PNG æ ¼å¼</div>
                </div>
                
                <div style="background: #fff5f5; border-radius: 8px; padding: 12px; margin-top: 12px; font-size: 14px; color: #d63384;">
                    ğŸ“¸ <strong>æ‹ç…§å°è´´å£«ï¼š</strong><br>
                    â€¢ ç¡®ä¿å…‰çº¿å……è¶³ï¼Œé£Ÿç‰©æ¸…æ™°å¯è§<br>
                    â€¢ å°½é‡æ‹æ‘„æ•´ä½“ï¼ŒåŒ…å«æ‰€æœ‰é£Ÿç‰©<br>
                    â€¢ é¿å…é®æŒ¡ï¼Œè®©æˆ‘èƒ½çœ‹æ¸…æ¯ä¸€æ ·é£Ÿæ
                </div>
            </div>
        </div>
        
        <!-- æ¨¡æ‹Ÿç”¨æˆ·ä¸Šä¼ ç…§ç‰‡åçš„AIåˆ†æ -->
        <div class="message user" id="photoMessage" style="display: none;">
            <div class="message-bubble user">
                [å›¾ç‰‡] è¿™æ˜¯æˆ‘çš„åˆé¤
            </div>
            <div class="avatar">
                <i class="fas fa-user"></i>
            </div>
        </div>
        
        <!-- AIå›å¤ - é£Ÿç‰©è¯†åˆ«åˆ†æ -->
        <div class="message ai" id="recognitionMessage" style="display: none;">
            <div class="avatar ai">
                <i class="fas fa-robot"></i>
            </div>
            <div class="message-bubble ai">
                å¤ªæ£’äº†ï¼æˆ‘è¯†åˆ«å‡ºäº†ä½ çš„åˆé¤ï¼Œè®©æˆ‘æ¥è¯¦ç»†åˆ†æï¼š
                
                <div class="food-recognition-card">
                    <div class="food-image">
                        <div class="recognition-badge">AIè¯†åˆ«</div>
                    </div>
                    
                    <div class="food-title">
                        <i class="fas fa-utensils"></i>
                        è¯†åˆ«ç»“æœï¼šå¥åº·åˆé¤
                    </div>
                    
                    <div style="margin-bottom: 12px;">
                        <div style="font-weight: bold; margin-bottom: 8px;">ğŸ½ï¸ é£Ÿç‰©æ¸…å•</div>
                        <div style="font-size: 14px; color: #666;">
                            â€¢ ç³™ç±³é¥­ (çº¦80g)<br>
                            â€¢ ç…é¸¡èƒ¸è‚‰ (çº¦100g)<br>
                            â€¢ æ¸…ç‚’è¥¿å…°èŠ± (çº¦150g)<br>
                            â€¢ èƒ¡èåœä¸ (çº¦50g)<br>
                            â€¢ ç´«èœè›‹èŠ±æ±¤ (1ç¢—)
                        </div>
                    </div>
                    
                    <div class="nutrition-info">
                        <div class="nutrition-item calories">
                            <div class="nutrition-value">485</div>
                            <div class="nutrition-label">æ€»çƒ­é‡(å¤§å¡)</div>
                        </div>
                        <div class="nutrition-item">
                            <div class="nutrition-value">35g</div>
                            <div class="nutrition-label">è›‹ç™½è´¨</div>
                        </div>
                        <div class="nutrition-item">
                            <div class="nutrition-value">18g</div>
                            <div class="nutrition-label">ç¢³æ°´åŒ–åˆç‰©</div>
                        </div>
                        <div class="nutrition-item">
                            <div class="nutrition-value">8g</div>
                            <div class="nutrition-label">è„‚è‚ª</div>
                        </div>
                    </div>
                </div>
                
                <div class="diet-structure-card">
                    <div class="structure-title">
                        <i class="fas fa-chart-pie"></i>
                        211é¥®é£Ÿç»“æ„åˆ†æ
                    </div>
                    
                    <div class="plate-visual">
                        <div class="plate-section section-vegetables"></div>
                        <div class="plate-section section-protein"></div>
                        <div class="plate-section section-carbs"></div>
                    </div>
                    
                    <div class="structure-breakdown">
                        <div class="structure-item vegetables">
                            <div style="font-weight: bold;">55%</div>
                            <div>è”¬èœ</div>
                        </div>
                        <div class="structure-item protein">
                            <div style="font-weight: bold;">25%</div>
                            <div>è›‹ç™½è´¨</div>
                        </div>
                        <div class="structure-item carbs">
                            <div style="font-weight: bold;">20%</div>
                            <div>ä¸»é£Ÿ</div>
                        </div>
                    </div>
                    
                    <div style="background: rgba(40, 167, 69, 0.1); border-radius: 8px; padding: 12px; margin-top: 12px;">
                        <div style="color: #28a745; font-weight: bold; margin-bottom: 4px;">âœ… ç»“æ„è¯„ä»·ï¼šä¼˜ç§€</div>
                        <div style="color: #28a745; font-size: 14px;">
                            ä½ çš„åˆé¤å®Œç¾ç¬¦åˆ211å¥åº·é¥®é£Ÿç»“æ„ï¼è”¬èœä¸°å¯Œï¼Œè›‹ç™½è´¨å……è¶³ï¼Œä¸»é£Ÿé€‚é‡ï¼Œè¥å…»æ­é…å¾ˆå‡è¡¡ã€‚
                        </div>
                    </div>
                </div>
                
                <div class="suggestion-card">
                    <div class="suggestion-title">
                        <i class="fas fa-lightbulb"></i>
                        ä¸ªæ€§åŒ–å»ºè®®
                    </div>
                    <div class="suggestion-content">
                        ğŸŒŸ <strong>è¿™é¡¿åˆé¤å¾ˆæ£’ï¼</strong><br>
                        â€¢ è›‹ç™½è´¨å«é‡ä¸°å¯Œï¼Œæœ‰åŠ©äºè‚Œè‚‰ç»´æŠ¤<br>
                        â€¢ è”¬èœç§ç±»å¤šæ ·ï¼Œç»´ç”Ÿç´ å……è¶³<br>
                        â€¢ çƒ¹é¥ªæ–¹å¼å¥åº·ï¼Œæ²¹è„‚æ§åˆ¶å¾—å½“<br><br>
                        
                        ğŸ’¡ <strong>å°ä¼˜åŒ–å»ºè®®ï¼š</strong><br>
                        å¯ä»¥æ·»åŠ ä¸€ç‚¹åšæœæˆ–ç‰›æ²¹æœï¼Œè¡¥å……ä¼˜è´¨è„‚è‚ªé…¸
                    </div>
                </div>
                
                <div class="quick-actions">
                    <div class="quick-btn" onclick="saveRecord()">ğŸ’¾ ä¿å­˜è®°å½•</div>
                    <div class="quick-btn" onclick="adjustPortion()">âš–ï¸ è°ƒæ•´ä»½é‡</div>
                    <div class="quick-btn" onclick="similarMeals()">ğŸ” ç›¸ä¼¼æ­é…</div>
                </div>
            </div>
        </div>
        
        <!-- ç”¨æˆ·è¯¢é—®æ¯æ—¥æ€»ç»“ -->
        <div class="message user">
            <div class="message-bubble user">
                èƒ½ç»™æˆ‘çœ‹çœ‹ä»Šå¤©çš„é¥®é£Ÿæ€»ç»“å—ï¼Ÿ
            </div>
            <div class="avatar">
                <i class="fas fa-user"></i>
            </div>
        </div>
        
        <!-- AIå›å¤ - æ¯æ—¥é¥®é£Ÿæ€»ç»“ -->
        <div class="message ai">
            <div class="avatar ai">
                <i class="fas fa-robot"></i>
            </div>
            <div class="message-bubble ai">
                å½“ç„¶ï¼è®©æˆ‘ä¸ºä½ æ€»ç»“ä»Šå¤©çš„é¥®é£Ÿæƒ…å†µï¼š
                
                <div class="daily-summary-card">
                    <div class="summary-title">
                        <i class="fas fa-calendar-day"></i>
                        ä»Šæ—¥é¥®é£Ÿæ€»ç»“ - 12æœˆ15æ—¥
                    </div>
                    
                    <div class="summary-stats">
                        <div class="summary-stat">
                            <div class="stat-value">1,245</div>
                            <div class="stat-label">æ€»çƒ­é‡(å¤§å¡)</div>
                        </div>
                        <div class="summary-stat">
                            <div class="stat-value">92g</div>
                            <div class="stat-label">è›‹ç™½è´¨</div>
                        </div>
                        <div class="summary-stat">
                            <div class="stat-value">28g</div>
                            <div class="stat-label">è„‚è‚ª</div>
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 12px;">
                        <div style="font-weight: bold; margin-bottom: 8px; color: #7b1fa2;">ğŸ“Š ç›®æ ‡å®Œæˆåº¦</div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 4px; font-size: 14px; color: #7b1fa2;">
                            <span>æ¯æ—¥çƒ­é‡ç›®æ ‡</span>
                            <span>92% (1245/1350å¤§å¡)</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 92%"></div>
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 12px;">
                        <div style="font-weight: bold; margin-bottom: 8px; color: #7b1fa2;">ğŸ½ï¸ ç”¨é¤è®°å½•</div>
                        <div style="font-size: 14px; color: #7b1fa2;">
                            âœ… æ—©é¤ï¼šç‡•éº¦ç²¥+é¸¡è›‹+è“è“ (300å¤§å¡)<br>
                            âœ… åˆé¤ï¼šç³™ç±³é¥­+é¸¡èƒ¸è‚‰+è”¬èœ (485å¤§å¡)<br>
                            âœ… æ™šé¤ï¼šè’¸è›‹ç¾¹+æ—¶è”¬+ç´«è–¯ (320å¤§å¡)<br>
                            âœ… åŠ é¤ï¼šè‹¹æœ+é…¸å¥¶ (140å¤§å¡)
                        </div>
                    </div>
                    
                    <div style="background: rgba(255, 255, 255, 0.3); border-radius: 8px; padding: 12px;">
                        <div style="color: #7b1fa2; font-weight: bold; margin-bottom: 4px;">ğŸ† ä»Šæ—¥è¯„ä»·ï¼šä¼˜ç§€</div>
                        <div style="color: #7b1fa2; font-size: 14px;">
                            é¥®é£Ÿç»“æ„å‡è¡¡ï¼Œçƒ­é‡æ§åˆ¶åˆç†ï¼Œè¥å…»æ­é…ç§‘å­¦ã€‚ç»§ç»­ä¿æŒï¼
                        </div>
                    </div>
                </div>
                
                <div class="quick-actions">
                    <div class="quick-btn" onclick="viewWeeklyReport()">ğŸ“… å‘¨æŠ¥å‘Š</div>
                    <div class="quick-btn" onclick="tomorrowPlan()">ğŸŒ… æ˜æ—¥è®¡åˆ’</div>
                    <div class="quick-btn" onclick="shareProgress()">ğŸ“± åˆ†äº«è¿›å±•</div>
                </div>
            </div>
        </div>
        
        <!-- ç”¨æˆ·è¯¢é—®è¥å…»å»ºè®® -->
        <div class="message user">
            <div class="message-bubble user">
                æ˜å¤©çš„æ—©é¤æœ‰ä»€ä¹ˆæ¨èå—ï¼Ÿ
            </div>
            <div class="avatar">
                <i class="fas fa-user"></i>
            </div>
        </div>
        
        <!-- AIå›å¤ - è¥å…»å»ºè®® -->
        <div class="message ai">
            <div class="avatar ai">
                <i class="fas fa-robot"></i>
            </div>
            <div class="message-bubble ai">
                æ ¹æ®ä½ çš„é¥®é£Ÿåå¥½å’Œè¥å…»éœ€æ±‚ï¼Œæˆ‘ä¸ºæ˜å¤©æ¨èå‡ ä¸ªå¥åº·æ—©é¤ï¼š
                
                <div style="background: white; border-radius: 12px; padding: 16px; margin-top: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                    <div style="color: #28a745; font-weight: bold; margin-bottom: 12px;">
                        <i class="fas fa-sun"></i>
                        æ˜æ—¥æ—©é¤æ¨è
                    </div>
                    
                    <div style="margin-bottom: 16px; padding-bottom: 16px; border-bottom: 1px solid #f0f0f0;">
                        <div style="font-weight: bold; margin-bottom: 8px;">ğŸ¥£ æ–¹æ¡ˆä¸€ï¼šè›‹ç™½ç‡•éº¦ç²¥</div>
                        <div style="font-size: 14px; color: #666; margin-bottom: 8px;">
                            ç‡•éº¦ç‰‡(40g) + ç‰›å¥¶(200ml) + é¸¡è›‹(1ä¸ª) + è“è“(50g) + åšæœ(10g)
                        </div>
                        <div style="font-size: 12px; color: #28a745;">
                            çƒ­é‡ï¼š320å¤§å¡ | è›‹ç™½è´¨ï¼š18g | çº¤ç»´ï¼š6g
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 16px; padding-bottom: 16px; border-bottom: 1px solid #f0f0f0;">
                        <div style="font-weight: bold; margin-bottom: 8px;">ğŸ³ æ–¹æ¡ˆäºŒï¼šè”¬èœé¸¡è›‹é¥¼</div>
                        <div style="font-size: 14px; color: #666; margin-bottom: 8px;">
                            é¸¡è›‹(2ä¸ª) + è èœ(100g) + èƒ¡èåœä¸(50g) + å…¨éº¦é¢ç²‰(30g)
                        </div>
                        <div style="font-size: 12px; color: #28a745;">
                            çƒ­é‡ï¼š285å¤§å¡ | è›‹ç™½è´¨ï¼š20g | ç»´Aä¸°å¯Œ
                        </div>
                    </div>
                    
                    <div>
                        <div style="font-weight: bold; margin-bottom: 8px;">ğŸ¥‘ æ–¹æ¡ˆä¸‰ï¼šç‰›æ²¹æœåå¸</div>
                        <div style="font-size: 14px; color: #666; margin-bottom: 8px;">
                            å…¨éº¦é¢åŒ…(2ç‰‡) + ç‰›æ²¹æœ(åŠä¸ª) + æ°´ç…®è›‹(1ä¸ª) + ç•ªèŒ„ç‰‡
                        </div>
                        <div style="font-size: 12px; color: #28a745;">
                            çƒ­é‡ï¼š350å¤§å¡ | è›‹ç™½è´¨ï¼š16g | å¥½è„‚è‚ªä¸°å¯Œ
                        </div>
                    </div>
                </div>
                
                <div style="background: #e8f5e8; border-radius: 8px; padding: 12px; margin-top: 12px;">
                    <div style="color: #28a745; font-weight: bold; margin-bottom: 8px;">ğŸ’¡ é€‰æ‹©å»ºè®®</div>
                    <div style="color: #28a745; font-size: 14px;">
                        æ ¹æ®ä½ çš„è¿åŠ¨è®¡åˆ’ï¼Œå¦‚æœæ˜å¤©æœ‰æ™¨ç»ƒï¼Œæ¨èæ–¹æ¡ˆä¸€ï¼›å¦‚æœæ˜¯å·¥ä½œæ—¥ï¼Œæ–¹æ¡ˆäºŒæ›´ä¾¿æ·ï¼›å‘¨æœ«å¯ä»¥å°è¯•æ–¹æ¡ˆä¸‰ã€‚
                    </div>
                </div>
                
                <div class="quick-actions">
                    <div class="quick-btn" onclick="setBreakfastReminder()">â° è®¾ç½®æé†’</div>
                    <div class="quick-btn" onclick="addToShoppingList()">ğŸ›’ åŠ å…¥è´­ç‰©æ¸…å•</div>
                    <div class="quick-btn" onclick="cookingTips()">ğŸ‘©â€ğŸ³ åˆ¶ä½œæ•™ç¨‹</div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- è¾“å…¥åŒºåŸŸ -->
    <div class="input-area">
        <div class="input-actions">
            <button class="action-btn" onclick="simulateVoiceInput()">
                <i class="fas fa-microphone"></i>
            </button>
            <button class="action-btn camera" onclick="simulatePhotoInput()">
                <i class="fas fa-camera"></i>
            </button>
            <button class="action-btn">
                <i class="fas fa-plus"></i>
            </button>
        </div>
        <input type="text" class="input-field" placeholder="æ‹ç…§è¯†åˆ«é£Ÿç‰©æˆ–è¯¢é—®è¥å…»é—®é¢˜..." id="messageInput" onkeypress="handleKeyPress(event)">
        <button class="send-btn" onclick="sendMessage()">
            <i class="fas fa-paper-plane"></i>
        </button>
    </div>
    
    <script>
        let isTyping = false;
        
        // æ¨¡æ‹Ÿæ‹ç…§ä¸Šä¼ 
        function simulatePhotoUpload() {
            // æ˜¾ç¤ºç”¨æˆ·ä¸Šä¼ ç…§ç‰‡çš„æ¶ˆæ¯
            document.getElementById('photoMessage').style.display = 'flex';
            
            // å»¶è¿Ÿæ˜¾ç¤ºAIè¯†åˆ«ç»“æœ
            setTimeout(() => {
                document.getElementById('recognitionMessage').style.display = 'flex';
                scrollToBottom();
            }, 2000);
            
            scrollToBottom();
        }
        
        // å¿«é€Ÿæ“ä½œåŠŸèƒ½
        function takePhoto() {
            addUserMessage('æˆ‘æƒ³æ‹ç…§è¯†åˆ«é£Ÿç‰©');
            setTimeout(() => {
                simulateAIResponse('æ‹ç…§è¯†åˆ«');
            }, 1000);
        }
        
        function recordMeal() {
            addUserMessage('å¸®æˆ‘è®°å½•è¿™é¡¿é¥­çš„è¥å…»ä¿¡æ¯');
            setTimeout(() => {
                simulateAIResponse('è®°å½•é¥®é£Ÿ');
            }, 1000);
        }
        
        function getNutritionTips() {
            addUserMessage('ç»™æˆ‘ä¸€äº›è¥å…»æ­é…çš„å»ºè®®');
            setTimeout(() => {
                simulateAIResponse('è¥å…»å»ºè®®');
            }, 1000);
        }
        
        // å¤„ç†é”®ç›˜äº‹ä»¶
        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }
        
        // å‘é€æ¶ˆæ¯
        function sendMessage() {
            const input = document.getElementById('messageInput');
            const message = input.value.trim();
            
            if (message && !isTyping) {
                addUserMessage(message);
                input.value = '';
                
                setTimeout(() => {
                    simulateAIResponse(message);
                }, 1000);
            }
        }
        
        // æ·»åŠ ç”¨æˆ·æ¶ˆæ¯
        function addUserMessage(message) {
            const chatContainer = document.getElementById('chatContainer');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message user';
            messageDiv.innerHTML = `
                <div class="message-bubble user">
                    ${message}
                </div>
                <div class="avatar">
                    <i class="fas fa-user"></i>
                </div>
            `;
            chatContainer.appendChild(messageDiv);
            scrollToBottom();
        }
        
        // æ·»åŠ AIæ¶ˆæ¯
        function addAIMessage(message) {
            const chatContainer = document.getElementById('chatContainer');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message ai';
            messageDiv.innerHTML = `
                <div class="avatar ai">
                    <i class="fas fa-robot"></i>
                </div>
                <div class="message-bubble ai">
                    ${message}
                </div>
            `;
            chatContainer.appendChild(messageDiv);
            scrollToBottom();
        }
        
        // æ¨¡æ‹ŸAIå›å¤
        function simulateAIResponse(userMessage) {
            isTyping = true;
            showTypingIndicator();
            
            setTimeout(() => {
                hideTypingIndicator();
                
                let response = getAIResponse(userMessage);
                addAIMessage(response);
                isTyping = false;
            }, 2000);
        }
        
        // è·å–AIå›å¤å†…å®¹
        function getAIResponse(message) {
            const responses = {
                'è¯†åˆ«': `
                    æˆ‘æ¥å¸®ä½ è¯†åˆ«è¿™å¼ ç…§ç‰‡ï¼è¯·ç¡®ä¿ç…§ç‰‡æ¸…æ™°ï¼Œæˆ‘ä¼šåˆ†æå…¶ä¸­çš„é£Ÿç‰©å’Œè¥å…»æˆåˆ†ã€‚
                    
                    <div class="upload-area" onclick="simulatePhotoUpload()">
                        <div class="upload-icon">
                            <i class="fas fa-camera"></i>
                        </div>
                        <div class="upload-text">ç‚¹å‡»ä¸Šä¼ ç…§ç‰‡</div>
                        <div class="upload-hint">AIå³æ—¶è¯†åˆ«ï¼Œç²¾å‡†åˆ†æ</div>
                    </div>
                    
                    <div class="quick-actions">
                        <div class="quick-btn">ğŸ“± ç›¸å†Œé€‰æ‹©</div>
                        <div class="quick-btn">ğŸ“¸ ç«‹å³æ‹ç…§</div>
                    </div>
                `,
                'è¥å…»': `
                    å¾ˆå¥½çš„é—®é¢˜ï¼å¥åº·é¥®é£Ÿçš„å…³é”®åœ¨äºè¥å…»å‡è¡¡ã€‚è®©æˆ‘ç»™ä½ ä¸€äº›ä¸“ä¸šå»ºè®®ï¼š
                    
                    <div class="suggestion-card">
                        <div class="suggestion-title">
                            <i class="fas fa-heart"></i>
                            è¥å…»æ­é…åŸåˆ™
                        </div>
                        <div class="suggestion-content">
                            <strong>1. 211é¥®é£Ÿç»“æ„</strong><br>
                            è”¬èœ50% + è›‹ç™½è´¨25% + ä¸»é£Ÿ25%<br><br>
                            
                            <strong>2. å¤šæ ·åŒ–æ‘„å…¥</strong><br>
                            æ¯å¤©è‡³å°‘5ç§é¢œè‰²çš„è”¬æœ<br><br>
                            
                            <strong>3. é€‚é‡ä¼˜è´¨è›‹ç™½</strong><br>
                            é±¼è‚‰ã€é¸¡è‚‰ã€è›‹ç±»ã€è±†åˆ¶å“è½®æ¢
                        </div>
                    </div>
                    
                    <div class="quick-actions">
                        <div class="quick-btn">ğŸ½ï¸ åˆ¶å®šèœè°±</div>
                        <div class="quick-btn">ğŸ¥— é£Ÿææ¨è</div>
                        <div class="quick-btn">ğŸ“š è¥å…»çŸ¥è¯†</div>
                    </div>
                `,
                default: `
                    æˆ‘éšæ—¶ä¸ºä½ æä¾›ä¸“ä¸šçš„é¥®é£ŸæŒ‡å¯¼å’Œè¥å…»åˆ†æï¼
                    
                    <div style="background: #f0f9ff; border-radius: 8px; padding: 12px; margin-top: 8px;">
                        <div style="color: #1e40af; font-weight: bold; margin-bottom: 8px;">ğŸ’¡ é¥®é£Ÿå°è´´å£«</div>
                        <div style="color: #1e40af; font-size: 14px;">
                            è®°ä½ï¼šå¥åº·é¥®é£Ÿä¸æ˜¯é™åˆ¶ï¼Œè€Œæ˜¯è®©ä½ æ„Ÿå—åˆ°æ›´å¥½çš„è‡ªå·±ã€‚æˆ‘ä¼šä¸€ç›´é™ªä¼´ä½ çš„å¥åº·ä¹‹è·¯ï¼
                        </div>
                    </div>
                    
                    <div class="quick-actions">
                        <div class="quick-btn">ğŸ“¸ æ‹ç…§è¯†åˆ«</div>
                        <div class="quick-btn">ğŸ½ï¸ è®°å½•é¥®é£Ÿ</div>
                        <div class="quick-btn">ğŸ’¡ è·å–å»ºè®®</div>
                    </div>
                `
            };
            
            if (message.includes('æ‹ç…§') || message.includes('è¯†åˆ«') || message.includes('ç…§ç‰‡')) {
                return responses['è¯†åˆ«'];
            } else if (message.includes('è¥å…»') || message.includes('æ­é…') || message.includes('å»ºè®®')) {
                return responses['è¥å…»'];
            } else {
                return responses['default'];
            }
        }
        
        // æ˜¾ç¤ºæ‰“å­—æŒ‡ç¤ºå™¨
        function showTypingIndicator() {
            const chatContainer = document.getElementById('chatContainer');
            const typingDiv = document.createElement('div');
            typingDiv.className = 'message ai';
            typingDiv.id = 'typingMessage';
            typingDiv.innerHTML = `
                <div class="avatar ai">
                    <i class="fas fa-robot"></i>
                </div>
                <div class="message-bubble ai">
                    <div class="typing-indicator">
                        æ–‡æ…§æ­£åœ¨åˆ†æä¸­
                        <div class="typing-dots">
                            <div class="typing-dot"></div>
                            <div class="typing-dot"></div>
                            <div class="typing-dot"></div>
                        </div>
                    </div>
                </div>
            `;
            chatContainer.appendChild(typingDiv);
            scrollToBottom();
        }
        
        // éšè—æ‰“å­—æŒ‡ç¤ºå™¨
        function hideTypingIndicator() {
            const typingMessage = document.getElementById('typingMessage');
            if (typingMessage) {
                typingMessage.remove();
            }
        }
        
        // æ»šåŠ¨åˆ°åº•éƒ¨
        function scrollToBottom() {
            const chatContainer = document.getElementById('chatContainer');
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }
        
        // é¡µé¢åŠ è½½å®Œæˆåè‡ªåŠ¨æ»šåŠ¨åˆ°åº•éƒ¨
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(scrollToBottom, 100);
        });
    </script>
</body>
</html>
