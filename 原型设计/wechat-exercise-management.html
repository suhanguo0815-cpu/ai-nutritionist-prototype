<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¿åŠ¨ç®¡ç† - AIè¥å…»å¸ˆæ–‡æ…§</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 0;
            background: #f7f7f7;
            height: 100vh;
            overflow: hidden;
        }
        
        /* å¾®ä¿¡å¯¼èˆªæ  */
        .wechat-header {
            background: #393a3f;
            color: white;
            height: 64px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 16px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        
        /* å¯¹è¯åŒºåŸŸ */
        .chat-container {
            height: calc(100vh - 64px - 80px);
            overflow-y: auto;
            padding: 16px;
            background: #f7f7f7;
        }
        
        /* æ¶ˆæ¯æ°”æ³¡ */
        .message {
            margin-bottom: 16px;
            display: flex;
            align-items: flex-end;
        }
        
        .message.ai {
            justify-content: flex-start;
        }
        
        .message.user {
            justify-content: flex-end;
        }
        
        .avatar {
            width: 40px;
            height: 40px;
            border-radius: 6px;
            background: #07c160;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            margin: 0 8px;
            flex-shrink: 0;
        }
        
        .avatar.ai {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .message-bubble {
            max-width: 280px;
            padding: 12px 16px;
            border-radius: 18px;
            font-size: 16px;
            line-height: 1.4;
            position: relative;
        }
        
        .message-bubble.ai {
            background: white;
            border-top-left-radius: 6px;
            box-shadow: 0 1px 2px rgba(0,0,0,0.1);
        }
        
        .message-bubble.user {
            background: #07c160;
            color: white;
            border-top-right-radius: 6px;
        }
        
        /* è¾“å…¥åŒºåŸŸ */
        .input-area {
            height: 80px;
            background: white;
            border-top: 1px solid #e5e5e5;
            display: flex;
            align-items: center;
            padding: 0 16px;
            gap: 12px;
        }
        
        .input-actions {
            display: flex;
            gap: 12px;
        }
        
        .action-btn {
            width: 36px;
            height: 36px;
            border-radius: 6px;
            background: #f5f5f5;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .action-btn:hover {
            background: #e5e5e5;
        }
        
        .input-field {
            flex: 1;
            height: 36px;
            border: 1px solid #e5e5e5;
            border-radius: 18px;
            padding: 0 16px;
            font-size: 16px;
            outline: none;
        }
        
        .send-btn {
            width: 36px;
            height: 36px;
            border-radius: 18px;
            background: #07c160;
            border: none;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }
        
        .send-btn:hover {
            background: #06ad56;
        }
        
        /* è¿åŠ¨è®¡åˆ’å¡ç‰‡ */
        .exercise-plan-card {
            background: white;
            border-radius: 12px;
            padding: 16px;
            margin-top: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border: 2px solid #ff6b35;
        }
        
        .plan-title {
            color: #ff6b35;
            font-weight: bold;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .exercise-item {
            display: flex;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid #f0f0f0;
        }
        
        .exercise-item:last-child {
            border-bottom: none;
        }
        
        .exercise-icon {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
            font-size: 16px;
        }
        
        .exercise-icon.cardio {
            background: rgba(255, 107, 53, 0.1);
            color: #ff6b35;
        }
        
        .exercise-icon.strength {
            background: rgba(74, 144, 226, 0.1);
            color: #4a90e2;
        }
        
        .exercise-icon.stretch {
            background: rgba(138, 43, 226, 0.1);
            color: #8a2be2;
        }
        
        .exercise-info {
            flex: 1;
        }
        
        .exercise-name {
            font-weight: bold;
            color: #333;
            margin-bottom: 4px;
        }
        
        .exercise-details {
            font-size: 14px;
            color: #666;
        }
        
        .exercise-stats {
            text-align: right;
            font-size: 12px;
            color: #999;
        }
        
        .exercise-value {
            font-weight: bold;
            color: #333;
            font-size: 14px;
        }
        
        /* è¿åŠ¨è®°å½•å¡ç‰‡ */
        .workout-record-card {
            background: white;
            border-radius: 12px;
            padding: 16px;
            margin-top: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border: 2px solid #4a90e2;
        }
        
        .record-title {
            color: #4a90e2;
            font-weight: bold;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .workout-summary {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-bottom: 16px;
        }
        
        .summary-item {
            text-align: center;
            background: #f8f9fa;
            border-radius: 8px;
            padding: 12px 8px;
        }
        
        .summary-value {
            font-size: 20px;
            font-weight: bold;
            color: #4a90e2;
            margin-bottom: 4px;
        }
        
        .summary-label {
            font-size: 12px;
            color: #666;
        }
        
        /* è¿åŠ¨å»ºè®®å¡ç‰‡ */
        .advice-card {
            background: linear-gradient(135deg, #fff8e1 0%, #ffecb3 100%);
            border-radius: 12px;
            padding: 16px;
            margin-top: 12px;
            border: 1px solid #ffc107;
        }
        
        .advice-title {
            color: #f57c00;
            font-weight: bold;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        .advice-content {
            color: #f57c00;
            font-size: 14px;
            line-height: 1.4;
        }
        
        /* è¿åŠ¨å¼ºåº¦æŒ‡ç¤ºå™¨ */
        .intensity-indicator {
            display: flex;
            align-items: center;
            gap: 8px;
            margin: 12px 0;
        }
        
        .intensity-label {
            font-size: 14px;
            color: #666;
            min-width: 60px;
        }
        
        .intensity-bar {
            flex: 1;
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            overflow: hidden;
        }
        
        .intensity-fill {
            height: 100%;
            border-radius: 4px;
            transition: width 0.8s ease;
        }
        
        .intensity-fill.low {
            background: #4caf50;
            width: 30%;
        }
        
        .intensity-fill.medium {
            background: #ff9800;
            width: 60%;
        }
        
        .intensity-fill.high {
            background: #f44336;
            width: 90%;
        }
        
        /* å¿ƒç‡åŒºé—´å¡ç‰‡ */
        .heart-rate-card {
            background: linear-gradient(135deg, #ffebee 0%, #ffcdd2 100%);
            border-radius: 12px;
            padding: 16px;
            margin-top: 8px;
            border: 2px solid #e91e63;
        }
        
        .heart-rate-title {
            color: #c2185b;
            font-weight: bold;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .heart-rate-zones {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }
        
        .zone-item {
            background: rgba(255, 255, 255, 0.5);
            border-radius: 8px;
            padding: 12px;
            text-align: center;
        }
        
        .zone-name {
            font-size: 12px;
            color: #c2185b;
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .zone-range {
            font-size: 16px;
            font-weight: bold;
            color: #c2185b;
            margin-bottom: 2px;
        }
        
        .zone-purpose {
            font-size: 10px;
            color: #c2185b;
        }
        
        /* å¿«é€Ÿæ“ä½œæŒ‰é’® */
        .quick-actions {
            display: flex;
            gap: 8px;
            margin-top: 12px;
            flex-wrap: wrap;
        }
        
        .quick-btn {
            background: #f0f9ff;
            border: 1px solid #3b82f6;
            color: #1e40af;
            border-radius: 16px;
            padding: 6px 12px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .quick-btn:hover {
            background: #3b82f6;
            color: white;
        }
        
        .quick-btn.orange {
            background: #fff7ed;
            border-color: #ff6b35;
            color: #ea580c;
        }
        
        .quick-btn.orange:hover {
            background: #ff6b35;
            color: white;
        }
        
        /* è¿åŠ¨å¯åŠ¨æŒ‰é’® */
        .start-workout-btn {
            background: linear-gradient(135deg, #ff6b35 0%, #f5515f 100%);
            border: none;
            border-radius: 50px;
            color: white;
            padding: 16px 32px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            width: 100%;
            margin-top: 16px;
            box-shadow: 0 4px 12px rgba(255, 107, 53, 0.3);
        }
        
        .start-workout-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 107, 53, 0.4);
        }
        
        .start-workout-btn:active {
            transform: translateY(0);
        }
        
        /* æ‰“å­—åŠ¨ç”» */
        .typing-indicator {
            display: flex;
            align-items: center;
            gap: 4px;
            color: #999;
            font-size: 14px;
        }
        
        .typing-dots {
            display: flex;
            gap: 2px;
        }
        
        .typing-dot {
            width: 4px;
            height: 4px;
            border-radius: 50%;
            background: #999;
            animation: typing 1.4s infinite;
        }
        
        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }
        
        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }
        
        @keyframes typing {
            0%, 60%, 100% { opacity: 0.3; }
            30% { opacity: 1; }
        }
    </style>
</head>
<body>
    <!-- å¾®ä¿¡å¯¼èˆªæ  -->
    <div class="wechat-header">
        <div class="flex items-center">
            <i class="fas fa-arrow-left text-lg mr-4"></i>
            <div class="flex items-center">
                <div class="w-8 h-8 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center mr-3">
                    <i class="fas fa-robot text-white text-sm"></i>
                </div>
                <div>
                    <div class="font-semibold">AIè¥å…»å¸ˆæ–‡æ…§</div>
                    <div class="text-xs text-gray-300">è¿åŠ¨å¥èº«æ•™ç»ƒ</div>
                </div>
            </div>
        </div>
        <i class="fas fa-ellipsis-h text-lg"></i>
    </div>
    
    <!-- å¯¹è¯åŒºåŸŸ -->
    <div class="chat-container" id="chatContainer">
        <!-- AIé—®å€™æ¶ˆæ¯ -->
        <div class="message ai">
            <div class="avatar ai">
                <i class="fas fa-robot"></i>
            </div>
            <div class="message-bubble ai">
                å—¨ï¼å‡†å¤‡å¥½ä»Šå¤©çš„è¿åŠ¨äº†å—ï¼ŸğŸ’ª<br><br>
                æˆ‘æ˜¯ä½ çš„ä¸“å±å¥èº«æ•™ç»ƒæ–‡æ…§ï¼Œä»Šå¤©æˆ‘ä¸ºä½ å‡†å¤‡äº†ä¸ªæ€§åŒ–çš„è¿åŠ¨è®¡åˆ’ï¼
                
                <div class="quick-actions">
                    <div class="quick-btn orange" onclick="showTodayPlan()">ğŸ“… ä»Šæ—¥è®¡åˆ’</div>
                    <div class="quick-btn orange" onclick="startWorkout()">ğŸƒ å¼€å§‹è¿åŠ¨</div>
                    <div class="quick-btn orange" onclick="checkProgress()">ğŸ“Š æŸ¥çœ‹è¿›åº¦</div>
                </div>
            </div>
        </div>
        
        <!-- ç”¨æˆ·æ¶ˆæ¯ -->
        <div class="message user">
            <div class="message-bubble user">
                ä»Šå¤©åº”è¯¥åšä»€ä¹ˆè¿åŠ¨ï¼Ÿ
            </div>
            <div class="avatar">
                <i class="fas fa-user"></i>
            </div>
        </div>
        
        <!-- AIå›å¤ - ä»Šæ—¥è¿åŠ¨è®¡åˆ’ -->
        <div class="message ai">
            <div class="avatar ai">
                <i class="fas fa-robot"></i>
            </div>
            <div class="message-bubble ai">
                æ ¹æ®ä½ çš„å‡é‡ç›®æ ‡å’Œä½“èƒ½çŠ¶å†µï¼Œæˆ‘ä¸ºä½ é‡èº«å®šåˆ¶äº†ä»Šæ—¥è¿åŠ¨è®¡åˆ’ï¼š
                
                <div class="exercise-plan-card">
                    <div class="plan-title">
                        <i class="fas fa-calendar-day"></i>
                        ä»Šæ—¥è¿åŠ¨è®¡åˆ’ - ç¬¬25å¤©
                    </div>
                    
                    <div class="exercise-item">
                        <div class="exercise-icon cardio">
                            <i class="fas fa-running"></i>
                        </div>
                        <div class="exercise-info">
                            <div class="exercise-name">æœ‰æ°§çƒ­èº«</div>
                            <div class="exercise-details">å¿«èµ° + åŠ¨æ€æ‹‰ä¼¸</div>
                        </div>
                        <div class="exercise-stats">
                            <div class="exercise-value">10åˆ†é’Ÿ</div>
                            <div>çƒ­èº«å‡†å¤‡</div>
                        </div>
                    </div>
                    
                    <div class="exercise-item">
                        <div class="exercise-icon cardio">
                            <i class="fas fa-heartbeat"></i>
                        </div>
                        <div class="exercise-info">
                            <div class="exercise-name">ä¸­å¼ºåº¦æœ‰æ°§</div>
                            <div class="exercise-details">æ…¢è·‘ + é—´æ­‡èµ°</div>
                        </div>
                        <div class="exercise-stats">
                            <div class="exercise-value">25åˆ†é’Ÿ</div>
                            <div>ç‡ƒè„‚ä¸»åŠ›</div>
                        </div>
                    </div>
                    
                    <div class="exercise-item">
                        <div class="exercise-icon strength">
                            <i class="fas fa-dumbbell"></i>
                        </div>
                        <div class="exercise-info">
                            <div class="exercise-name">åŠ›é‡è®­ç»ƒ</div>
                            <div class="exercise-details">æ·±è¹² + ä¿¯å§æ’‘ + å·è…¹</div>
                        </div>
                        <div class="exercise-stats">
                            <div class="exercise-value">15åˆ†é’Ÿ</div>
                            <div>è‚Œè‚‰å¡‘å½¢</div>
                        </div>
                    </div>
                    
                    <div class="exercise-item">
                        <div class="exercise-icon stretch">
                            <i class="fas fa-spa"></i>
                        </div>
                        <div class="exercise-info">
                            <div class="exercise-name">æ”¾æ¾æ‹‰ä¼¸</div>
                            <div class="exercise-details">å…¨èº«æ‹‰ä¼¸ + å‘¼å¸è°ƒèŠ‚</div>
                        </div>
                        <div class="exercise-stats">
                            <div class="exercise-value">10åˆ†é’Ÿ</div>
                            <div>æ¢å¤æ”¾æ¾</div>
                        </div>
                    </div>
                    
                    <div style="background: #fff3e0; border-radius: 8px; padding: 12px; margin-top: 12px;">
                        <div style="color: #ff6b35; font-weight: bold; margin-bottom: 8px;">ğŸ¯ ä»Šæ—¥ç›®æ ‡</div>
                        <div style="color: #ff6b35; font-size: 14px;">
                            â€¢ æ€»æ—¶é•¿ï¼š60åˆ†é’Ÿ<br>
                            â€¢ æ¶ˆè€—çƒ­é‡ï¼šçº¦380å¤§å¡<br>
                            â€¢ ç›®æ ‡å¿ƒç‡ï¼š130-150 bpm<br>
                            â€¢ è¿åŠ¨å¼ºåº¦ï¼šä¸­ç­‰åä¸Š
                        </div>
                    </div>
                    
                    <button class="start-workout-btn" onclick="startWorkoutMode()">
                        <i class="fas fa-play mr-2"></i>
                        å¼€å§‹ä»Šæ—¥è¿åŠ¨
                    </button>
                </div>
                
                <div class="quick-actions">
                    <div class="quick-btn orange" onclick="adjustIntensity()">âš–ï¸ è°ƒæ•´å¼ºåº¦</div>
                    <div class="quick-btn orange" onclick="replaceExercise()">ğŸ”„ æ›´æ¢é¡¹ç›®</div>
                    <div class="quick-btn orange" onclick="exerciseGuide()">ğŸ“¹ åŠ¨ä½œæŒ‡å¯¼</div>
                </div>
            </div>
        </div>
        
        <!-- ç”¨æˆ·æ¶ˆæ¯ -->
        <div class="message user">
            <div class="message-bubble user">
                æˆ‘çš„å¿ƒç‡åº”è¯¥æ§åˆ¶åœ¨ä»€ä¹ˆèŒƒå›´ï¼Ÿ
            </div>
            <div class="avatar">
                <i class="fas fa-user"></i>
            </div>
        </div>
        
        <!-- AIå›å¤ - å¿ƒç‡æŒ‡å¯¼ -->
        <div class="message ai">
            <div class="avatar ai">
                <i class="fas fa-robot"></i>
            </div>
            <div class="message-bubble ai">
                å¾ˆå¥½çš„é—®é¢˜ï¼å¿ƒç‡ç®¡ç†æ˜¯é«˜æ•ˆç‡ƒè„‚çš„å…³é”®ã€‚æ ¹æ®ä½ çš„å¹´é¾„å’Œç›®æ ‡ï¼Œæˆ‘æ¥ä¸ºä½ è¯¦ç»†åˆ†æï¼š
                
                <div class="heart-rate-card">
                    <div class="heart-rate-title">
                        <i class="fas fa-heart"></i>
                        ä¸ªæ€§åŒ–å¿ƒç‡åŒºé—´ï¼ˆ32å²ï¼‰
                    </div>
                    
                    <div style="text-align: center; margin-bottom: 16px;">
                        <div style="font-size: 14px; color: #c2185b; margin-bottom: 8px;">æœ€å¤§å¿ƒç‡ï¼š188 bpm</div>
                        <div style="font-size: 12px; color: #c2185b;">(å…¬å¼ï¼š220 - 32å² = 188)</div>
                    </div>
                    
                    <div class="heart-rate-zones">
                        <div class="zone-item">
                            <div class="zone-name">è„‚è‚ªç‡ƒçƒ§åŒº</div>
                            <div class="zone-range">113-131</div>
                            <div class="zone-purpose">æœ€ä½³å‡è„‚å¿ƒç‡</div>
                        </div>
                        <div class="zone-item">
                            <div class="zone-name">æœ‰æ°§è®­ç»ƒåŒº</div>
                            <div class="zone-range">131-150</div>
                            <div class="zone-purpose">æå‡å¿ƒè‚ºåŠŸèƒ½</div>
                        </div>
                        <div class="zone-item">
                            <div class="zone-name">çƒ­èº«æ¢å¤åŒº</div>
                            <div class="zone-range">94-113</div>
                            <div class="zone-purpose">çƒ­èº«å’Œæ¢å¤</div>
                        </div>
                        <div class="zone-item">
                            <div class="zone-name">é«˜å¼ºåº¦åŒº</div>
                            <div class="zone-range">150-169</div>
                            <div class="zone-purpose">é—´æ­‡è®­ç»ƒ</div>
                        </div>
                    </div>
                    
                    <div style="background: rgba(255, 255, 255, 0.7); border-radius: 8px; padding: 12px; margin-top: 12px;">
                        <div style="color: #c2185b; font-weight: bold; margin-bottom: 4px;">ğŸ¯ ä»Šæ—¥æ¨èå¿ƒç‡</div>
                        <div style="color: #c2185b; font-size: 14px;">
                            ä¸»è¦ä¿æŒåœ¨ <strong>113-131 bpm</strong> è„‚è‚ªç‡ƒçƒ§åŒºï¼Œé—´æ­‡å¯è¾¾ <strong>131-150 bpm</strong>
                        </div>
                    </div>
                </div>
                
                <div class="advice-card">
                    <div class="advice-title">
                        <i class="fas fa-lightbulb"></i>
                        å¿ƒç‡ç›‘æµ‹å»ºè®®
                    </div>
                    <div class="advice-content">
                        ğŸ’¡ <strong>ç›‘æµ‹æ–¹æ³•ï¼š</strong><br>
                        â€¢ ä½¿ç”¨æ™ºèƒ½æ‰‹ç¯æˆ–è¿åŠ¨æ‰‹è¡¨<br>
                        â€¢ ä¼ ç»Ÿæ–¹æ³•ï¼š10ç§’è„‰æÃ—6<br>
                        â€¢ æ„Ÿè§‰åˆ¤æ–­ï¼šèƒ½è¯´è¯ä½†ç•¥å–˜<br><br>
                        
                        âš ï¸ <strong>æ³¨æ„äº‹é¡¹ï¼š</strong><br>
                        â€¢ å¿ƒç‡è¿‡é«˜æ—¶ç«‹å³å‡é€Ÿ<br>
                        â€¢ æ„Ÿåˆ°ä¸é€‚é©¬ä¸Šåœæ­¢<br>
                        â€¢ è¿åŠ¨åç›‘æµ‹æ¢å¤å¿ƒç‡
                    </div>
                </div>
                
                <div class="quick-actions">
                    <div class="quick-btn" onclick="connectDevice()">ğŸ“± è¿æ¥è®¾å¤‡</div>
                    <div class="quick-btn" onclick="heartRateMonitor()">â¤ï¸ å®æ—¶ç›‘æµ‹</div>
                    <div class="quick-btn" onclick="safetyTips()">âš ï¸ å®‰å…¨æé†’</div>
                </div>
            </div>
        </div>
        
        <!-- ç”¨æˆ·æ¶ˆæ¯ -->
        <div class="message user">
            <div class="message-bubble user">
                è¿åŠ¨å¼ºåº¦æ„Ÿè§‰æœ‰ç‚¹é«˜ï¼Œèƒ½è°ƒæ•´ä¸€ä¸‹å—ï¼Ÿ
            </div>
            <div class="avatar">
                <i class="fas fa-user"></i>
            </div>
        </div>
        
        <!-- AIå›å¤ - è¿åŠ¨å¼ºåº¦è°ƒæ•´ -->
        <div class="message ai">
            <div class="avatar ai">
                <i class="fas fa-robot"></i>
            </div>
            <div class="message-bubble ai">
                å½“ç„¶å¯ä»¥ï¼å€¾å¬èº«ä½“æ„Ÿå—æ˜¯æœ€é‡è¦çš„ã€‚æˆ‘æ¥ä¸ºä½ è°ƒæ•´åˆ°æ›´åˆé€‚çš„å¼ºåº¦ï¼š
                
                <div class="exercise-plan-card">
                    <div class="plan-title">
                        <i class="fas fa-sliders-h"></i>
                        è°ƒæ•´åçš„è¿åŠ¨è®¡åˆ’
                    </div>
                    
                    <div class="intensity-indicator">
                        <div class="intensity-label">åŸå¼ºåº¦</div>
                        <div class="intensity-bar">
                            <div class="intensity-fill high"></div>
                        </div>
                        <div style="font-size: 12px; color: #f44336;">é«˜å¼ºåº¦</div>
                    </div>
                    
                    <div class="intensity-indicator">
                        <div class="intensity-label">æ–°å¼ºåº¦</div>
                        <div class="intensity-bar">
                            <div class="intensity-fill medium"></div>
                        </div>
                        <div style="font-size: 12px; color: #ff9800;">ä¸­ç­‰å¼ºåº¦</div>
                    </div>
                    
                    <div style="margin-top: 16px;">
                        <div style="font-weight: bold; margin-bottom: 8px; color: #ff6b35;">ğŸ“‹ è°ƒæ•´å†…å®¹</div>
                        
                        <div class="exercise-item">
                            <div class="exercise-icon cardio">
                                <i class="fas fa-walking"></i>
                            </div>
                            <div class="exercise-info">
                                <div class="exercise-name">è½»æ¾å¿«èµ°</div>
                                <div class="exercise-details">ä»£æ›¿æ…¢è·‘ï¼Œé™ä½å†²å‡»</div>
                            </div>
                            <div class="exercise-stats">
                                <div class="exercise-value">30åˆ†é’Ÿ</div>
                                <div>ç‡ƒè„‚æœ‰æ•ˆ</div>
                            </div>
                        </div>
                        
                        <div class="exercise-item">
                            <div class="exercise-icon strength">
                                <i class="fas fa-user-friends"></i>
                            </div>
                            <div class="exercise-info">
                                <div class="exercise-name">è½»é‡åŠ›é‡</div>
                                <div class="exercise-details">å‡å°‘ç»„æ•°ï¼Œå»¶é•¿ä¼‘æ¯</div>
                            </div>
                            <div class="exercise-stats">
                                <div class="exercise-value">10åˆ†é’Ÿ</div>
                                <div>é€‚åº¦åˆºæ¿€</div>
                            </div>
                        </div>
                    </div>
                    
                    <div style="background: #e8f5e8; border-radius: 8px; padding: 12px; margin-top: 12px;">
                        <div style="color: #4caf50; font-weight: bold; margin-bottom: 8px;">âœ¨ è°ƒæ•´æ•ˆæœ</div>
                        <div style="color: #4caf50; font-size: 14px;">
                            â€¢ è¿åŠ¨æ—¶é•¿ï¼š50åˆ†é’Ÿï¼ˆå‡å°‘10åˆ†é’Ÿï¼‰<br>
                            â€¢ æ¶ˆè€—çƒ­é‡ï¼šçº¦280å¤§å¡<br>
                            â€¢ ç›®æ ‡å¿ƒç‡ï¼š105-125 bpm<br>
                            â€¢ ç–²åŠ³ç¨‹åº¦ï¼šè½»åˆ°ä¸­ç­‰
                        </div>
                    </div>
                </div>
                
                <div class="advice-card">
                    <div class="advice-title">
                        <i class="fas fa-heart"></i>
                        è´´å¿ƒæé†’
                    </div>
                    <div class="advice-content">
                        å¾ªåºæ¸è¿›æ˜¯æœ€å®‰å…¨æœ‰æ•ˆçš„æ–¹æ³•ï¼å½“ä½ é€‚åº”äº†è¿™ä¸ªå¼ºåº¦åï¼Œæˆ‘ä»¬å†é€æ­¥æå‡ã€‚è®°ä½ï¼š
                        <br><br>
                        ğŸŒŸ <strong>è´¨é‡æ¯”å¼ºåº¦æ›´é‡è¦</strong><br>
                        ğŸŒŸ <strong>åšæŒæ¯”å†²åˆºæ›´å…³é”®</strong><br>
                        ğŸŒŸ <strong>ä½ çš„æ„Ÿå—æœ€é‡è¦</strong>
                    </div>
                </div>
                
                <div class="quick-actions">
                    <div class="quick-btn orange" onclick="acceptAdjustment()">âœ… æ¥å—è°ƒæ•´</div>
                    <div class="quick-btn orange" onclick="furtherReduce()">â¬‡ï¸ å†é™ä¸€ç‚¹</div>
                    <div class="quick-btn orange" onclick="customizeIntensity()">ğŸ›ï¸ è‡ªå®šä¹‰</div>
                </div>
            </div>
        </div>
        
        <!-- ç”¨æˆ·æ¶ˆæ¯ -->
        <div class="message user">
            <div class="message-bubble user">
                å¥½çš„ï¼Œå¼€å§‹è¿åŠ¨å§ï¼
            </div>
            <div class="avatar">
                <i class="fas fa-user"></i>
            </div>
        </div>
        
        <!-- AIå›å¤ - è¿åŠ¨æŒ‡å¯¼ -->
        <div class="message ai">
            <div class="avatar ai">
                <i class="fas fa-robot"></i>
            </div>
            <div class="message-bubble ai">
                å¤ªæ£’äº†ï¼è®©æˆ‘ä»¬å¼€å§‹è¿™æ®µç¾å¥½çš„è¿åŠ¨æ—¶å…‰ï¼ğŸ‰
                
                <div class="workout-record-card">
                    <div class="record-title">
                        <i class="fas fa-play-circle"></i>
                        è¿åŠ¨å®æ—¶æŒ‡å¯¼
                    </div>
                    
                    <div style="text-align: center; margin-bottom: 16px;">
                        <div style="font-size: 24px; font-weight: bold; color: #4a90e2; margin-bottom: 8px;">
                            é˜¶æ®µä¸€ï¼šçƒ­èº«å‡†å¤‡
                        </div>
                        <div style="font-size: 14px; color: #666;">
                            æ¥ä¸‹æ¥10åˆ†é’Ÿï¼Œæˆ‘ä»¬ä»è½»æ¾å¿«èµ°å¼€å§‹
                        </div>
                    </div>
                    
                    <div style="background: #f0f8ff; border-radius: 8px; padding: 16px; margin-bottom: 16px;">
                        <div style="color: #4a90e2; font-weight: bold; margin-bottom: 8px;">ğŸ¯ å½“å‰åŠ¨ä½œï¼šè½»æ¾å¿«èµ°</div>
                        <div style="color: #4a90e2; font-size: 14px; margin-bottom: 12px;">
                            â€¢ ä¿æŒè‡ªç„¶æ­¥æ€ï¼Œæ‰‹è‡‚è‡ªç„¶æ‘†åŠ¨<br>
                            â€¢ å‘¼å¸å¹³ç¨³ï¼Œæ„Ÿè§‰èº«ä½“é€æ¸æš–å’Œ<br>
                            â€¢ å¿ƒç‡ç›®æ ‡ï¼š95-110 bpm
                        </div>
                        
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div style="font-size: 18px; font-weight: bold; color: #4a90e2;">
                                â±ï¸ 08:30 <span style="font-size: 14px; color: #666;">/ 10:00</span>
                            </div>
                            <div style="font-size: 16px; color: #4a90e2;">
                                â¤ï¸ 102 bpm
                            </div>
                        </div>
                    </div>
                    
                    <div style="background: #fffbf0; border-radius: 8px; padding: 12px; margin-bottom: 16px;">
                        <div style="color: #f57c00; font-weight: bold; margin-bottom: 8px;">ğŸ’¬ è¿åŠ¨æé†’</div>
                        <div style="color: #f57c00; font-size: 14px;">
                            åšå¾—å¾ˆæ£’ï¼å¿ƒç‡æ§åˆ¶å¾—å¾ˆå¥½ï¼Œç»§ç»­ä¿æŒè¿™ä¸ªèŠ‚å¥ã€‚æ„Ÿåˆ°è½»å¾®å‡ºæ±—æ˜¯æ­£å¸¸çš„ï¼Œè¯´æ˜èº«ä½“æ­£åœ¨è¿›å…¥çŠ¶æ€ï¼
                        </div>
                    </div>
                    
                    <button class="start-workout-btn" style="background: linear-gradient(135deg, #4caf50 0%, #45a049 100%); box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);" onclick="nextPhase()">
                        <i class="fas fa-forward mr-2"></i>
                        è¿›å…¥ä¸‹ä¸€é˜¶æ®µ
                    </button>
                </div>
                
                <div class="quick-actions">
                    <div class="quick-btn" onclick="pauseWorkout()">â¸ï¸ æš‚åœ</div>
                    <div class="quick-btn" onclick="adjustPace()">ğŸƒ è°ƒèŠ‚é…é€Ÿ</div>
                    <div class="quick-btn" onclick="emergencyStop()">ğŸ›‘ ç´§æ€¥åœæ­¢</div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- è¾“å…¥åŒºåŸŸ -->
    <div class="input-area">
        <div class="input-actions">
            <button class="action-btn" onclick="simulateVoiceInput()">
                <i class="fas fa-microphone"></i>
            </button>
            <button class="action-btn" onclick="simulatePhotoInput()">
                <i class="fas fa-camera"></i>
            </button>
            <button class="action-btn">
                <i class="fas fa-plus"></i>
            </button>
        </div>
        <input type="text" class="input-field" placeholder="è¿åŠ¨ä¸­é‡åˆ°é—®é¢˜éšæ—¶å‘Šè¯‰æˆ‘..." id="messageInput" onkeypress="handleKeyPress(event)">
        <button class="send-btn" onclick="sendMessage()">
            <i class="fas fa-paper-plane"></i>
        </button>
    </div>
    
    <script>
        let isTyping = false;
        let workoutTimer = null;
        
        // å¿«é€Ÿæ“ä½œåŠŸèƒ½
        function showTodayPlan() {
            addUserMessage('ç»™æˆ‘çœ‹çœ‹ä»Šå¤©çš„è¿åŠ¨è®¡åˆ’');
            setTimeout(() => {
                simulateAIResponse('è¿åŠ¨è®¡åˆ’');
            }, 1000);
        }
        
        function startWorkout() {
            addUserMessage('æˆ‘å‡†å¤‡å¼€å§‹è¿åŠ¨äº†');
            setTimeout(() => {
                simulateAIResponse('å¼€å§‹è¿åŠ¨');
            }, 1000);
        }
        
        function checkProgress() {
            addUserMessage('æˆ‘æƒ³æŸ¥çœ‹è¿åŠ¨è¿›åº¦');
            setTimeout(() => {
                simulateAIResponse('è¿åŠ¨è¿›åº¦');
            }, 1000);
        }
        
        // å¤„ç†é”®ç›˜äº‹ä»¶
        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }
        
        // å‘é€æ¶ˆæ¯
        function sendMessage() {
            const input = document.getElementById('messageInput');
            const message = input.value.trim();
            
            if (message && !isTyping) {
                addUserMessage(message);
                input.value = '';
                
                setTimeout(() => {
                    simulateAIResponse(message);
                }, 1000);
            }
        }
        
        // æ·»åŠ ç”¨æˆ·æ¶ˆæ¯
        function addUserMessage(message) {
            const chatContainer = document.getElementById('chatContainer');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message user';
            messageDiv.innerHTML = `
                <div class="message-bubble user">
                    ${message}
                </div>
                <div class="avatar">
                    <i class="fas fa-user"></i>
                </div>
            `;
            chatContainer.appendChild(messageDiv);
            scrollToBottom();
        }
        
        // æ·»åŠ AIæ¶ˆæ¯
        function addAIMessage(message) {
            const chatContainer = document.getElementById('chatContainer');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message ai';
            messageDiv.innerHTML = `
                <div class="avatar ai">
                    <i class="fas fa-robot"></i>
                </div>
                <div class="message-bubble ai">
                    ${message}
                </div>
            `;
            chatContainer.appendChild(messageDiv);
            scrollToBottom();
        }
        
        // æ¨¡æ‹ŸAIå›å¤
        function simulateAIResponse(userMessage) {
            isTyping = true;
            showTypingIndicator();
            
            setTimeout(() => {
                hideTypingIndicator();
                
                let response = getAIResponse(userMessage);
                addAIMessage(response);
                isTyping = false;
            }, 2000);
        }
        
        // è·å–AIå›å¤å†…å®¹
        function getAIResponse(message) {
            const responses = {
                'è¿›åº¦': `
                    è®©æˆ‘ä¸ºä½ å±•ç¤ºè¿åŠ¨è¿›åº¦æ•°æ®ï¼š
                    
                    <div class="workout-record-card">
                        <div class="record-title">
                            <i class="fas fa-chart-line"></i>
                            æœ¬å‘¨è¿åŠ¨ç»Ÿè®¡
                        </div>
                        
                        <div class="workout-summary">
                            <div class="summary-item">
                                <div class="summary-value">5</div>
                                <div class="summary-label">è¿åŠ¨å¤©æ•°</div>
                            </div>
                            <div class="summary-item">
                                <div class="summary-value">280</div>
                                <div class="summary-label">æ€»åˆ†é’Ÿæ•°</div>
                            </div>
                            <div class="summary-item">
                                <div class="summary-value">1,450</div>
                                <div class="summary-label">æ¶ˆè€—çƒ­é‡</div>
                            </div>
                        </div>
                        
                        <div style="background: #f0f8ff; border-radius: 8px; padding: 12px;">
                            <div style="color: #4a90e2; font-weight: bold; margin-bottom: 8px;">ğŸ“ˆ è¿›æ­¥è¡¨ç°</div>
                            <div style="color: #4a90e2; font-size: 14px;">
                                ç›¸æ¯”ä¸Šå‘¨ï¼Œä½ çš„è¿åŠ¨æ—¶é•¿å¢åŠ äº†15%ï¼ŒåšæŒåº¦æå‡æ˜æ˜¾ï¼ç»§ç»­åŠ æ²¹ï¼
                            </div>
                        </div>
                    </div>
                    
                    <div class="quick-actions">
                        <div class="quick-btn">ğŸ“Š è¯¦ç»†æŠ¥å‘Š</div>
                        <div class="quick-btn">ğŸ† æˆå°±å¾½ç« </div>
                        <div class="quick-btn">ğŸ“± åˆ†äº«è¿›å±•</div>
                    </div>
                `,
                'è®¡åˆ’': `
                    æ ¹æ®ä½ çš„å‡é‡ç›®æ ‡ï¼Œæˆ‘ä¸ºä½ åˆ¶å®šäº†ç§‘å­¦çš„è¿åŠ¨è®¡åˆ’ï¼š
                    
                    <div class="advice-card">
                        <div class="advice-title">
                            <i class="fas fa-calendar-week"></i>
                            æœ¬å‘¨è¿åŠ¨å®‰æ’
                        </div>
                        <div class="advice-content">
                            <strong>å‘¨ä¸€ã€ä¸‰ã€äº”ï¼š</strong>æœ‰æ°§è¿åŠ¨ä¸ºä¸»<br>
                            <strong>å‘¨äºŒã€å››ï¼š</strong>åŠ›é‡è®­ç»ƒ<br>
                            <strong>å‘¨å…­ï¼š</strong>é•¿æ—¶é—´ä½å¼ºåº¦è¿åŠ¨<br>
                            <strong>å‘¨æ—¥ï¼š</strong>ä¼‘æ¯æˆ–è½»æ¾æ‹‰ä¼¸<br><br>
                            
                            æ¯æ¬¡è¿åŠ¨45-60åˆ†é’Ÿï¼Œå¼ºåº¦å¾ªåºæ¸è¿›æå‡
                        </div>
                    </div>
                    
                    <div class="quick-actions">
                        <div class="quick-btn orange">ğŸ¯ ä»Šæ—¥æ‰§è¡Œ</div>
                        <div class="quick-btn orange">âš–ï¸ è°ƒæ•´è®¡åˆ’</div>
                        <div class="quick-btn orange">ğŸ“… è®¾ç½®æé†’</div>
                    </div>
                `,
                default: `
                    æˆ‘ä¼šæŒç»­ä¸ºä½ æä¾›ä¸“ä¸šçš„è¿åŠ¨æŒ‡å¯¼ï¼Œé™ªä¼´ä½ çš„å¥èº«ä¹‹è·¯ï¼
                    
                    <div style="background: #fff7ed; border-radius: 8px; padding: 12px; margin-top: 8px;">
                        <div style="color: #ea580c; font-weight: bold; margin-bottom: 8px;">ğŸ’ª è¿åŠ¨å°è´´å£«</div>
                        <div style="color: #ea580c; font-size: 14px;">
                            è¿åŠ¨æ˜¯æœ€å¥½çš„è¯ç‰©ï¼ŒåšæŒå°±æ˜¯èƒœåˆ©ï¼æ¯ä¸€æ»´æ±—æ°´éƒ½æ˜¯å‘ç›®æ ‡è¿ˆè¿›çš„æ­¥ä¼ã€‚
                        </div>
                    </div>
                    
                    <div class="quick-actions">
                        <div class="quick-btn orange">ğŸƒ å¼€å§‹è¿åŠ¨</div>
                        <div class="quick-btn orange">ğŸ“Š æŸ¥çœ‹æ•°æ®</div>
                        <div class="quick-btn orange">ğŸ’¡ è·å–å»ºè®®</div>
                    </div>
                `
            };
            
            if (message.includes('è¿›åº¦') || message.includes('æ•°æ®') || message.includes('ç»Ÿè®¡')) {
                return responses['è¿›åº¦'];
            } else if (message.includes('è®¡åˆ’') || message.includes('å®‰æ’') || message.includes('ä»Šå¤©')) {
                return responses['è®¡åˆ’'];
            } else {
                return responses['default'];
            }
        }
        
        // æ˜¾ç¤ºæ‰“å­—æŒ‡ç¤ºå™¨
        function showTypingIndicator() {
            const chatContainer = document.getElementById('chatContainer');
            const typingDiv = document.createElement('div');
            typingDiv.className = 'message ai';
            typingDiv.id = 'typingMessage';
            typingDiv.innerHTML = `
                <div class="avatar ai">
                    <i class="fas fa-robot"></i>
                </div>
                <div class="message-bubble ai">
                    <div class="typing-indicator">
                        æ–‡æ…§æ­£åœ¨åˆ¶å®šè®¡åˆ’
                        <div class="typing-dots">
                            <div class="typing-dot"></div>
                            <div class="typing-dot"></div>
                            <div class="typing-dot"></div>
                        </div>
                    </div>
                </div>
            `;
            chatContainer.appendChild(typingDiv);
            scrollToBottom();
        }
        
        // éšè—æ‰“å­—æŒ‡ç¤ºå™¨
        function hideTypingIndicator() {
            const typingMessage = document.getElementById('typingMessage');
            if (typingMessage) {
                typingMessage.remove();
            }
        }
        
        // æ»šåŠ¨åˆ°åº•éƒ¨
        function scrollToBottom() {
            const chatContainer = document.getElementById('chatContainer');
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }
        
        // é¡µé¢åŠ è½½å®Œæˆåè‡ªåŠ¨æ»šåŠ¨åˆ°åº•éƒ¨
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(scrollToBottom, 100);
        });
    </script>
</body>
</html>
