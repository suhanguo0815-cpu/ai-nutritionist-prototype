<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¥åº·æ–¹æ¡ˆæŒ‡å¯¼ - AIè¥å…»å¸ˆæ–‡æ…§</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 0;
            background: #f7f7f7;
            height: 100vh;
            overflow: hidden;
        }
        
        /* å¾®ä¿¡å¯¼èˆªæ  */
        .wechat-header {
            background: #393a3f;
            color: white;
            height: 64px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 16px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        
        /* å¯¹è¯åŒºåŸŸ */
        .chat-container {
            height: calc(100vh - 64px - 80px);
            overflow-y: auto;
            padding: 16px;
            background: #f7f7f7;
        }
        
        /* æ¶ˆæ¯æ°”æ³¡ */
        .message {
            margin-bottom: 16px;
            display: flex;
            align-items: flex-end;
        }
        
        .message.ai {
            justify-content: flex-start;
        }
        
        .message.user {
            justify-content: flex-end;
        }
        
        .avatar {
            width: 40px;
            height: 40px;
            border-radius: 6px;
            background: #07c160;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            margin: 0 8px;
            flex-shrink: 0;
        }
        
        .avatar.ai {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .message-bubble {
            max-width: 280px;
            padding: 12px 16px;
            border-radius: 18px;
            font-size: 16px;
            line-height: 1.4;
            position: relative;
        }
        
        .message-bubble.ai {
            background: white;
            border-top-left-radius: 6px;
            box-shadow: 0 1px 2px rgba(0,0,0,0.1);
        }
        
        .message-bubble.user {
            background: #07c160;
            color: white;
            border-top-right-radius: 6px;
        }
        
        /* è¾“å…¥åŒºåŸŸ */
        .input-area {
            height: 80px;
            background: white;
            border-top: 1px solid #e5e5e5;
            display: flex;
            align-items: center;
            padding: 0 16px;
            gap: 12px;
        }
        
        .input-actions {
            display: flex;
            gap: 12px;
        }
        
        .action-btn {
            width: 36px;
            height: 36px;
            border-radius: 6px;
            background: #f5f5f5;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .action-btn:hover {
            background: #e5e5e5;
        }
        
        .input-field {
            flex: 1;
            height: 36px;
            border: 1px solid #e5e5e5;
            border-radius: 18px;
            padding: 0 16px;
            font-size: 16px;
            outline: none;
        }
        
        .send-btn {
            width: 36px;
            height: 36px;
            border-radius: 18px;
            background: #07c160;
            border: none;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }
        
        .send-btn:hover {
            background: #06ad56;
        }
        
        /* æ–¹æ¡ˆå¡ç‰‡ */
        .plan-card {
            background: white;
            border-radius: 12px;
            padding: 16px;
            margin-top: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border: 2px solid #667eea;
        }
        
        .plan-title {
            color: #667eea;
            font-weight: bold;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .plan-section {
            margin-bottom: 16px;
        }
        
        .plan-section:last-child {
            margin-bottom: 0;
        }
        
        .section-title {
            font-weight: bold;
            color: #333;
            margin-bottom: 8px;
            font-size: 14px;
        }
        
        .plan-item {
            display: flex;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #f0f0f0;
        }
        
        .plan-item:last-child {
            border-bottom: none;
        }
        
        .plan-icon {
            width: 24px;
            height: 24px;
            border-radius: 12px;
            background: #f0f9ff;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
            color: #667eea;
            font-size: 12px;
        }
        
        .plan-content {
            flex: 1;
            font-size: 14px;
            color: #666;
        }
        
        .plan-value {
            color: #333;
            font-weight: 500;
        }
        
        /* å¿«é€Ÿæ“ä½œæŒ‰é’® */
        .quick-actions {
            display: flex;
            gap: 8px;
            margin-top: 12px;
            flex-wrap: wrap;
        }
        
        .quick-btn {
            background: #f0f9ff;
            border: 1px solid #667eea;
            color: #667eea;
            border-radius: 16px;
            padding: 6px 12px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .quick-btn:hover {
            background: #667eea;
            color: white;
        }
        
        /* é˜¶æ®µæ€§å»ºè®®å¡ç‰‡ */
        .stage-card {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            border-radius: 12px;
            padding: 16px;
            margin-top: 8px;
            border: none;
        }
        
        .stage-title {
            color: #92400e;
            font-weight: bold;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        .stage-progress {
            background: rgba(255, 255, 255, 0.3);
            border-radius: 8px;
            height: 8px;
            overflow: hidden;
            margin-bottom: 12px;
        }
        
        .stage-progress-fill {
            background: #92400e;
            height: 100%;
            border-radius: 8px;
            transition: width 0.8s ease;
        }
        
        .stage-desc {
            color: #92400e;
            font-size: 14px;
            line-height: 1.4;
        }
        
        /* æ‰“å­—åŠ¨ç”» */
        .typing-indicator {
            display: flex;
            align-items: center;
            gap: 4px;
            color: #999;
            font-size: 14px;
        }
        
        .typing-dots {
            display: flex;
            gap: 2px;
        }
        
        .typing-dot {
            width: 4px;
            height: 4px;
            border-radius: 50%;
            background: #999;
            animation: typing 1.4s infinite;
        }
        
        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }
        
        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }
        
        @keyframes typing {
            0%, 60%, 100% { opacity: 0.3; }
            30% { opacity: 1; }
        }
    </style>
</head>
<body>
    <!-- å¾®ä¿¡å¯¼èˆªæ  -->
    <div class="wechat-header">
        <div class="flex items-center">
            <i class="fas fa-arrow-left text-lg mr-4"></i>
            <div class="flex items-center">
                <div class="w-8 h-8 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center mr-3">
                    <i class="fas fa-robot text-white text-sm"></i>
                </div>
                <div>
                    <div class="font-semibold">AIè¥å…»å¸ˆæ–‡æ…§</div>
                    <div class="text-xs text-gray-300">å¥åº·æ–¹æ¡ˆæŒ‡å¯¼ä¸­</div>
                </div>
            </div>
        </div>
        <i class="fas fa-ellipsis-h text-lg"></i>
    </div>
    
    <!-- å¯¹è¯åŒºåŸŸ -->
    <div class="chat-container" id="chatContainer">
        <!-- AIæ¬¢è¿æ¶ˆæ¯ -->
        <div class="message ai">
            <div class="avatar ai">
                <i class="fas fa-robot"></i>
            </div>
            <div class="message-bubble ai">
                ä½ å¥½ï¼æˆ‘æ˜¯ä½ çš„ä¸“å±AIè¥å…»å¸ˆæ–‡æ…§ ğŸŒŸ<br><br>
                æ­å–œä½ å¼€å¯90å¤©å¥åº·å‡é‡ä¹‹æ—…ï¼æˆ‘å·²ç»æ ¹æ®ä½ çš„ä¸ªäººæƒ…å†µåˆ¶å®šäº†ä¸“å±çš„å¥åº·æ–¹æ¡ˆã€‚
                <div class="quick-actions">
                    <div class="quick-btn" onclick="showPlan()">ğŸ“‹ æŸ¥çœ‹æˆ‘çš„æ–¹æ¡ˆ</div>
                    <div class="quick-btn" onclick="adjustPlan()">âš™ï¸ è°ƒæ•´æ–¹æ¡ˆ</div>
                    <div class="quick-btn" onclick="askQuestion()">â“ æˆ‘æœ‰ç–‘é—®</div>
                </div>
            </div>
        </div>
        
        <!-- ç”¨æˆ·æ¶ˆæ¯ -->
        <div class="message user">
            <div class="message-bubble user">
                æˆ‘æƒ³è¯¦ç»†äº†è§£ä¸€ä¸‹æˆ‘çš„å¥åº·æ–¹æ¡ˆ
            </div>
            <div class="avatar">
                <i class="fas fa-user"></i>
            </div>
        </div>
        
        <!-- AIå›å¤ - ä¸ªæ€§åŒ–æ–¹æ¡ˆ -->
        <div class="message ai">
            <div class="avatar ai">
                <i class="fas fa-robot"></i>
            </div>
            <div class="message-bubble ai">
                å¤ªå¥½äº†ï¼æ ¹æ®ä½ çš„æ¡£æ¡ˆä¿¡æ¯ï¼ˆ32å²ï¼Œå½“å‰65kgï¼Œç›®æ ‡58kgï¼‰ï¼Œæˆ‘ä¸ºä½ é‡èº«å®šåˆ¶äº†è¿™ä»½å¥åº·æ–¹æ¡ˆï¼š
                
                <div class="plan-card">
                    <div class="plan-title">
                        <i class="fas fa-heart"></i>
                        ä¸ªæ€§åŒ–å¥åº·å‡é‡æ–¹æ¡ˆ
                    </div>
                    
                    <div class="plan-section">
                        <div class="section-title">ğŸ¯ æ€»ä½“ç›®æ ‡</div>
                        <div class="plan-item">
                            <div class="plan-icon"><i class="fas fa-bullseye"></i></div>
                            <div class="plan-content">
                                90å¤©å‡é‡ï¼š<span class="plan-value">7kg (65kg â†’ 58kg)</span>
                            </div>
                        </div>
                        <div class="plan-item">
                            <div class="plan-icon"><i class="fas fa-calendar"></i></div>
                            <div class="plan-content">
                                æ¯å‘¨å‡é‡ï¼š<span class="plan-value">0.5-0.8kg</span>
                            </div>
                        </div>
                        <div class="plan-item">
                            <div class="plan-icon"><i class="fas fa-chart-line"></i></div>
                            <div class="plan-content">
                                é¢„æœŸè¾¾æˆç‡ï¼š<span class="plan-value">95%</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="plan-section">
                        <div class="section-title">ğŸ½ï¸ é¥®é£Ÿè®¡åˆ’</div>
                        <div class="plan-item">
                            <div class="plan-icon"><i class="fas fa-fire"></i></div>
                            <div class="plan-content">
                                æ¯æ—¥çƒ­é‡ï¼š<span class="plan-value">1,350å¤§å¡</span>
                            </div>
                        </div>
                        <div class="plan-item">
                            <div class="plan-icon"><i class="fas fa-carrot"></i></div>
                            <div class="plan-content">
                                211é¥®é£Ÿç»“æ„ï¼š<span class="plan-value">è”¬èœ50% + ä¸»é£Ÿ25% + è›‹ç™½25%</span>
                            </div>
                        </div>
                        <div class="plan-item">
                            <div class="plan-icon"><i class="fas fa-clock"></i></div>
                            <div class="plan-content">
                                ç”¨é¤æ—¶é—´ï¼š<span class="plan-value">7:00 / 12:00 / 18:00</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="plan-section">
                        <div class="section-title">ğŸƒ è¿åŠ¨è®¡åˆ’</div>
                        <div class="plan-item">
                            <div class="plan-icon"><i class="fas fa-running"></i></div>
                            <div class="plan-content">
                                æœ‰æ°§è¿åŠ¨ï¼š<span class="plan-value">æ¯å‘¨4æ¬¡ï¼Œæ¯æ¬¡30-45åˆ†é’Ÿ</span>
                            </div>
                        </div>
                        <div class="plan-item">
                            <div class="plan-icon"><i class="fas fa-dumbbell"></i></div>
                            <div class="plan-content">
                                åŠ›é‡è®­ç»ƒï¼š<span class="plan-value">æ¯å‘¨2æ¬¡ï¼Œæ¯æ¬¡20-30åˆ†é’Ÿ</span>
                            </div>
                        </div>
                        <div class="plan-item">
                            <div class="plan-icon"><i class="fas fa-heart"></i></div>
                            <div class="plan-content">
                                ç›®æ ‡å¿ƒç‡ï¼š<span class="plan-value">130-150 bpm</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="plan-section">
                        <div class="section-title">ğŸ’¤ ç”Ÿæ´»ä¹ æƒ¯</div>
                        <div class="plan-item">
                            <div class="plan-icon"><i class="fas fa-moon"></i></div>
                            <div class="plan-content">
                                ç¡çœ æ—¶é—´ï¼š<span class="plan-value">æ¯æ™š7-8å°æ—¶</span>
                            </div>
                        </div>
                        <div class="plan-item">
                            <div class="plan-icon"><i class="fas fa-tint"></i></div>
                            <div class="plan-content">
                                é¥®æ°´é‡ï¼š<span class="plan-value">æ¯å¤©2000ml</span>
                            </div>
                        </div>
                        <div class="plan-item">
                            <div class="plan-icon"><i class="fas fa-spa"></i></div>
                            <div class="plan-content">
                                å‹åŠ›ç®¡ç†ï¼š<span class="plan-value">æ¯æ—¥10åˆ†é’Ÿå†¥æƒ³</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="quick-actions">
                    <div class="quick-btn" onclick="showDailyPlan()">ğŸ“… ä»Šæ—¥è®¡åˆ’</div>
                    <div class="quick-btn" onclick="showNutrition()">ğŸ¥— è¥å…»è¯¦æƒ…</div>
                    <div class="quick-btn" onclick="showExercise()">ğŸƒ è¿åŠ¨æŒ‡å¯¼</div>
                </div>
            </div>
        </div>
        
        <!-- ç”¨æˆ·æ¶ˆæ¯ -->
        <div class="message user">
            <div class="message-bubble user">
                è¿™ä¸ªæ–¹æ¡ˆæ„Ÿè§‰å¾ˆä¸“ä¸šï¼èƒ½å‘Šè¯‰æˆ‘ç°åœ¨å¤„äºä»€ä¹ˆé˜¶æ®µå—ï¼Ÿ
            </div>
            <div class="avatar">
                <i class="fas fa-user"></i>
            </div>
        </div>
        
        <!-- AIå›å¤ - é˜¶æ®µæ€§æŒ‡å¯¼ -->
        <div class="message ai">
            <div class="avatar ai">
                <i class="fas fa-robot"></i>
            </div>
            <div class="message-bubble ai">
                å¾ˆå¥½çš„é—®é¢˜ï¼æ ¹æ®ä½ ç›®å‰çš„è¿›åº¦ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹ä½ çš„é˜¶æ®µæ€§æƒ…å†µï¼š
                
                <div class="stage-card">
                    <div class="stage-title">
                        <i class="fas fa-rocket"></i>
                        ç¬¬ä¸€é˜¶æ®µï¼šé€‚åº”æœŸ (ç¬¬1-14å¤©)
                    </div>
                    <div class="stage-progress">
                        <div class="stage-progress-fill" style="width: 85%"></div>
                    </div>
                    <div class="stage-desc">
                        ä½ å·²ç»å®Œæˆäº†85%çš„é€‚åº”æœŸï¼è¿™ä¸ªé˜¶æ®µä¸»è¦æ˜¯è®©èº«ä½“é€‚åº”æ–°çš„é¥®é£Ÿå’Œè¿åŠ¨èŠ‚å¥ã€‚ä½ åšå¾—å¾ˆæ£’ï¼Œç»§ç»­ä¿æŒï¼<br><br>
                        
                        <strong>ä¸‹ä¸€é˜¶æ®µé¢„å‘Šï¼š</strong><br>
                        å³å°†è¿›å…¥"åŠ é€Ÿå‡é‡æœŸ"ï¼Œæˆ‘ä¼šä¸ºä½ è°ƒæ•´è¿åŠ¨å¼ºåº¦ï¼Œé¢„è®¡å‡é‡æ•ˆæœä¼šæ›´æ˜æ˜¾ã€‚
                    </div>
                </div>
                
                <div class="quick-actions">
                    <div class="quick-btn" onclick="showProgress()">ğŸ“ˆ æŸ¥çœ‹è¯¦ç»†è¿›åº¦</div>
                    <div class="quick-btn" onclick="nextStage()">ğŸš€ äº†è§£ä¸‹é˜¶æ®µ</div>
                    <div class="quick-btn" onclick="adjustDifficulty()">âš–ï¸ è°ƒæ•´éš¾åº¦</div>
                </div>
            </div>
        </div>
        
        <!-- ç”¨æˆ·æ¶ˆæ¯ -->
        <div class="message user">
            <div class="message-bubble user">
                å¤ªæ£’äº†ï¼æˆ‘æƒ³äº†è§£ä¸€ä¸‹ä»Šå¤©å…·ä½“åº”è¯¥æ€ä¹ˆåšï¼Ÿ
            </div>
            <div class="avatar">
                <i class="fas fa-user"></i>
            </div>
        </div>
        
        <!-- AIå›å¤ - ä»Šæ—¥æŒ‡å¯¼ -->
        <div class="message ai">
            <div class="avatar ai">
                <i class="fas fa-robot"></i>
            </div>
            <div class="message-bubble ai">
                ä»Šå¤©æ˜¯ä¸ªç¾å¥½çš„å¼€å§‹ï¼è®©æˆ‘ä¸ºä½ å®‰æ’ä»Šæ—¥çš„å¥åº·è®¡åˆ’ï¼š
                
                <div class="plan-card">
                    <div class="plan-title">
                        <i class="fas fa-sun"></i>
                        ä»Šæ—¥å¥åº·è®¡åˆ’ - 12æœˆ15æ—¥
                    </div>
                    
                    <div class="plan-section">
                        <div class="section-title">ğŸŒ… ä¸Šåˆ (7:00-12:00)</div>
                        <div class="plan-item">
                            <div class="plan-icon"><i class="fas fa-utensils"></i></div>
                            <div class="plan-content">
                                <strong>æ—©é¤</strong>ï¼šç‡•éº¦ç²¥(50g) + é¸¡è›‹(1ä¸ª) + è“è“(100g)<br>
                                <span style="color: #667eea;">çº¦300å¤§å¡ï¼Œè›‹ç™½è´¨18g</span>
                            </div>
                        </div>
                        <div class="plan-item">
                            <div class="plan-icon"><i class="fas fa-running"></i></div>
                            <div class="plan-content">
                                <strong>æ™¨ç»ƒ</strong>ï¼šå¿«èµ°30åˆ†é’Ÿ + æ‹‰ä¼¸10åˆ†é’Ÿ<br>
                                <span style="color: #667eea;">é¢„è®¡æ¶ˆè€—200å¤§å¡</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="plan-section">
                        <div class="section-title">â˜€ï¸ ä¸­åˆ (12:00-18:00)</div>
                        <div class="plan-item">
                            <div class="plan-icon"><i class="fas fa-utensils"></i></div>
                            <div class="plan-content">
                                <strong>åˆé¤</strong>ï¼šç³™ç±³é¥­(80g) + é¸¡èƒ¸è‚‰(100g) + æ—¶è”¬(200g)<br>
                                <span style="color: #667eea;">çº¦450å¤§å¡ï¼Œè›‹ç™½è´¨35g</span>
                            </div>
                        </div>
                        <div class="plan-item">
                            <div class="plan-icon"><i class="fas fa-apple-alt"></i></div>
                            <div class="plan-content">
                                <strong>ä¸‹åˆèŒ¶</strong>ï¼šè‹¹æœ1ä¸ª + æ— ç³–é…¸å¥¶100ml<br>
                                <span style="color: #667eea;">çº¦120å¤§å¡ï¼Œè¡¥å……ç»´C</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="plan-section">
                        <div class="section-title">ğŸŒ™ æ™šä¸Š (18:00-22:00)</div>
                        <div class="plan-item">
                            <div class="plan-icon"><i class="fas fa-utensils"></i></div>
                            <div class="plan-content">
                                <strong>æ™šé¤</strong>ï¼šè’¸è›‹ç¾¹ + æ¸…ç‚’è èœ + ç´«è–¯(100g)<br>
                                <span style="color: #667eea;">çº¦280å¤§å¡ï¼Œå¯Œå«çº¤ç»´</span>
                            </div>
                        </div>
                        <div class="plan-item">
                            <div class="plan-icon"><i class="fas fa-spa"></i></div>
                            <div class="plan-content">
                                <strong>æ”¾æ¾</strong>ï¼šç‘œä¼½æ‹‰ä¼¸15åˆ†é’Ÿ + å†¥æƒ³10åˆ†é’Ÿ<br>
                                <span style="color: #667eea;">å¸®åŠ©æ¶ˆåŒ–ï¼Œæ”¹å–„ç¡çœ </span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div style="background: #f0f9ff; border-radius: 8px; padding: 12px; margin-top: 12px; border: 1px solid #667eea;">
                    <div style="color: #667eea; font-weight: bold; margin-bottom: 4px;">ğŸ’¡ ä»Šæ—¥é‡ç‚¹æé†’</div>
                    <div style="color: #333; font-size: 14px;">
                        â€¢ è®°å¾—åœ¨æ¯é¤å‰30åˆ†é’Ÿå–200mlæ¸©æ°´<br>
                        â€¢ è¿åŠ¨å1å°æ—¶å†…é¿å…å¤§é‡è¿›é£Ÿ<br>
                        â€¢ æ™šä¸Š9ç‚¹åå°½é‡ä¸å†è¿›é£Ÿ<br>
                        â€¢ æœ‰ä»»ä½•ä¸é€‚éšæ—¶å‘Šè¯‰æˆ‘
                    </div>
                </div>
                
                <div class="quick-actions">
                    <div class="quick-btn" onclick="startDay()">ğŸ¯ å¼€å§‹ä»Šæ—¥è®¡åˆ’</div>
                    <div class="quick-btn" onclick="modifyPlan()">âœï¸ è°ƒæ•´è®¡åˆ’</div>
                    <div class="quick-btn" onclick="askTips()">ğŸ’¡ è·å–å°è´´å£«</div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- è¾“å…¥åŒºåŸŸ -->
    <div class="input-area">
        <div class="input-actions">
            <button class="action-btn" onclick="simulateVoiceInput()">
                <i class="fas fa-microphone"></i>
            </button>
            <button class="action-btn" onclick="simulatePhotoInput()">
                <i class="fas fa-camera"></i>
            </button>
            <button class="action-btn">
                <i class="fas fa-plus"></i>
            </button>
        </div>
        <input type="text" class="input-field" placeholder="å‘æ–‡æ…§æé—®æˆ–åˆ†äº«ä½ çš„æƒ³æ³•..." id="messageInput" onkeypress="handleKeyPress(event)">
        <button class="send-btn" onclick="sendMessage()">
            <i class="fas fa-paper-plane"></i>
        </button>
    </div>
    
    <script>
        let isTyping = false;
        
        // å¤„ç†é”®ç›˜äº‹ä»¶
        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }
        
        // å‘é€æ¶ˆæ¯
        function sendMessage() {
            const input = document.getElementById('messageInput');
            const message = input.value.trim();
            
            if (message && !isTyping) {
                addUserMessage(message);
                input.value = '';
                
                // æ¨¡æ‹ŸAIå›å¤
                setTimeout(() => {
                    simulateAIResponse(message);
                }, 1000);
            }
        }
        
        // æ·»åŠ ç”¨æˆ·æ¶ˆæ¯
        function addUserMessage(message) {
            const chatContainer = document.getElementById('chatContainer');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message user';
            messageDiv.innerHTML = `
                <div class="message-bubble user">
                    ${message}
                </div>
                <div class="avatar">
                    <i class="fas fa-user"></i>
                </div>
            `;
            chatContainer.appendChild(messageDiv);
            scrollToBottom();
        }
        
        // æ·»åŠ AIæ¶ˆæ¯
        function addAIMessage(message) {
            const chatContainer = document.getElementById('chatContainer');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message ai';
            messageDiv.innerHTML = `
                <div class="avatar ai">
                    <i class="fas fa-robot"></i>
                </div>
                <div class="message-bubble ai">
                    ${message}
                </div>
            `;
            chatContainer.appendChild(messageDiv);
            scrollToBottom();
        }
        
        // æ¨¡æ‹ŸAIå›å¤
        function simulateAIResponse(userMessage) {
            isTyping = true;
            showTypingIndicator();
            
            setTimeout(() => {
                hideTypingIndicator();
                
                let response = getAIResponse(userMessage);
                addAIMessage(response);
                isTyping = false;
            }, 2000);
        }
        
        // è·å–AIå›å¤å†…å®¹
        function getAIResponse(message) {
            const responses = {
                'è°ƒæ•´': `
                    å½“ç„¶å¯ä»¥ï¼æˆ‘å¯ä»¥æ ¹æ®ä½ çš„éœ€æ±‚è°ƒæ•´æ–¹æ¡ˆï¼š
                    
                    <div style="background: #f0f9ff; border-radius: 8px; padding: 12px; margin-top: 8px;">
                        <div style="color: #667eea; font-weight: bold; margin-bottom: 8px;">å¯è°ƒæ•´é¡¹ç›®ï¼š</div>
                        <div style="color: #333; font-size: 14px;">
                            ğŸ½ï¸ é¥®é£Ÿåå¥½ï¼ˆç´ é£Ÿã€ä½ç³–ã€æ— éº¸è´¨ç­‰ï¼‰<br>
                            ğŸƒ è¿åŠ¨å¼ºåº¦ï¼ˆè½»åº¦ã€ä¸­åº¦ã€é«˜å¼ºåº¦ï¼‰<br>
                            â° ä½œæ¯æ—¶é—´ï¼ˆæ—©èµ·å‹ã€å¤œçŒ«å‹ï¼‰<br>
                            ğŸ¯ å‡é‡é€Ÿåº¦ï¼ˆç¨³å¥å‹ã€å¿«é€Ÿå‹ï¼‰
                        </div>
                    </div>
                    
                    <div class="quick-actions">
                        <div class="quick-btn">ğŸƒ åå¥½ç´ é£Ÿ</div>
                        <div class="quick-btn">ğŸ’ª å¢å¼ºè¿åŠ¨</div>
                        <div class="quick-btn">ğŸŒ æ”¾æ…¢èŠ‚å¥</div>
                    </div>
                `,
                'è¿åŠ¨': `
                    å¾ˆæ£’çš„é—®é¢˜ï¼è¿åŠ¨æ˜¯å‡é‡çš„é‡è¦éƒ¨åˆ†ï¼Œè®©æˆ‘ä¸ºä½ è¯¦ç»†è§„åˆ’ï¼š
                    
                    <div class="plan-card">
                        <div class="plan-title">
                            <i class="fas fa-dumbbell"></i>
                            ä¸ªæ€§åŒ–è¿åŠ¨æ–¹æ¡ˆ
                        </div>
                        
                        <div style="margin-bottom: 16px;">
                            <div style="font-weight: bold; margin-bottom: 8px;">ğŸ¯ æœ¬å‘¨è¿åŠ¨ç›®æ ‡</div>
                            <div style="font-size: 14px; color: #666;">
                                â€¢ æœ‰æ°§è¿åŠ¨4æ¬¡ Ã— 35åˆ†é’Ÿ = 140åˆ†é’Ÿ<br>
                                â€¢ åŠ›é‡è®­ç»ƒ2æ¬¡ Ã— 25åˆ†é’Ÿ = 50åˆ†é’Ÿ<br>
                                â€¢ æ€»æ¶ˆè€—ç›®æ ‡ï¼š1200å¤§å¡
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 16px;">
                            <div style="font-weight: bold; margin-bottom: 8px;">ğŸ“… æœ¬å‘¨å®‰æ’</div>
                            <div style="font-size: 14px; color: #666;">
                                å‘¨ä¸€ï¼šå¿«èµ°40åˆ†é’Ÿ<br>
                                å‘¨äºŒï¼šåŠ›é‡è®­ç»ƒ30åˆ†é’Ÿ<br>
                                å‘¨ä¸‰ï¼šä¼‘æ¯+æ‹‰ä¼¸<br>
                                å‘¨å››ï¼šæ…¢è·‘35åˆ†é’Ÿ<br>
                                å‘¨äº”ï¼šåŠ›é‡è®­ç»ƒ25åˆ†é’Ÿ<br>
                                å‘¨å…­ï¼šç‘œä¼½60åˆ†é’Ÿ<br>
                                å‘¨æ—¥ï¼šæˆ·å¤–æ´»åŠ¨
                            </div>
                        </div>
                    </div>
                    
                    <div class="quick-actions">
                        <div class="quick-btn">ğŸ“± å¯åŠ¨è¿åŠ¨æ¨¡å¼</div>
                        <div class="quick-btn">ğŸµ æ¨èéŸ³ä¹</div>
                        <div class="quick-btn">ğŸ“¹ è§†é¢‘æ•™ç¨‹</div>
                    </div>
                `,
                default: `
                    æˆ‘ç†è§£ä½ çš„æƒ³æ³•ï¼ä½œä¸ºä½ çš„ä¸“å±è¥å…»å¸ˆï¼Œæˆ‘ä¼šæ ¹æ®ä½ çš„å…·ä½“æƒ…å†µç»™å‡ºæœ€é€‚åˆçš„å»ºè®®ã€‚
                    
                    <div style="background: #f0f9ff; border-radius: 8px; padding: 12px; margin-top: 8px;">
                        <div style="color: #667eea; font-weight: bold; margin-bottom: 8px;">ğŸ’¡ ä¸ªæ€§åŒ–å»ºè®®</div>
                        <div style="color: #333; font-size: 14px;">
                            æ¯ä¸ªäººçš„èº«ä½“æƒ…å†µéƒ½ä¸åŒï¼Œæˆ‘ä¼šæŒç»­æ ¹æ®ä½ çš„åé¦ˆå’Œæ•°æ®æ¥ä¼˜åŒ–æ–¹æ¡ˆã€‚æœ‰ä»»ä½•ç–‘é—®æˆ–ä¸é€‚ï¼Œè¯·éšæ—¶å‘Šè¯‰æˆ‘ï¼
                        </div>
                    </div>
                    
                    <div class="quick-actions">
                        <div class="quick-btn">ğŸ“‹ æŸ¥çœ‹æ–¹æ¡ˆ</div>
                        <div class="quick-btn">ğŸ“ ç´§æ€¥å’¨è¯¢</div>
                        <div class="quick-btn">ğŸ“ è®°å½•é—®é¢˜</div>
                    </div>
                `
            };
            
            // ç®€å•çš„å…³é”®è¯åŒ¹é…
            if (message.includes('è°ƒæ•´') || message.includes('ä¿®æ”¹') || message.includes('æ”¹å˜')) {
                return responses['è°ƒæ•´'];
            } else if (message.includes('è¿åŠ¨') || message.includes('é”»ç‚¼') || message.includes('å¥èº«')) {
                return responses['è¿åŠ¨'];
            } else {
                return responses['default'];
            }
        }
        
        // æ˜¾ç¤ºæ‰“å­—æŒ‡ç¤ºå™¨
        function showTypingIndicator() {
            const chatContainer = document.getElementById('chatContainer');
            const typingDiv = document.createElement('div');
            typingDiv.className = 'message ai';
            typingDiv.id = 'typingMessage';
            typingDiv.innerHTML = `
                <div class="avatar ai">
                    <i class="fas fa-robot"></i>
                </div>
                <div class="message-bubble ai">
                    <div class="typing-indicator">
                        æ–‡æ…§æ­£åœ¨æ€è€ƒä¸­
                        <div class="typing-dots">
                            <div class="typing-dot"></div>
                            <div class="typing-dot"></div>
                            <div class="typing-dot"></div>
                        </div>
                    </div>
                </div>
            `;
            chatContainer.appendChild(typingDiv);
            scrollToBottom();
        }
        
        // éšè—æ‰“å­—æŒ‡ç¤ºå™¨
        function hideTypingIndicator() {
            const typingMessage = document.getElementById('typingMessage');
            if (typingMessage) {
                typingMessage.remove();
            }
        }
        
        // æ»šåŠ¨åˆ°åº•éƒ¨
        function scrollToBottom() {
            const chatContainer = document.getElementById('chatContainer');
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }
        
        // å¿«é€Ÿæ“ä½œæŒ‰é’®åŠŸèƒ½
        function showPlan() {
            addUserMessage('æˆ‘æƒ³æŸ¥çœ‹æˆ‘çš„å®Œæ•´å¥åº·æ–¹æ¡ˆ');
            setTimeout(() => {
                simulateAIResponse('æŸ¥çœ‹æ–¹æ¡ˆ');
            }, 1000);
        }
        
        function adjustPlan() {
            addUserMessage('æˆ‘æƒ³è°ƒæ•´ä¸€ä¸‹æˆ‘çš„æ–¹æ¡ˆ');
            setTimeout(() => {
                simulateAIResponse('è°ƒæ•´æ–¹æ¡ˆ');
            }, 1000);
        }
        
        function askQuestion() {
            addUserMessage('æˆ‘å¯¹æ–¹æ¡ˆæœ‰ä¸€äº›ç–‘é—®');
            setTimeout(() => {
                simulateAIResponse('ç–‘é—®è§£ç­”');
            }, 1000);
        }
        
        function showDailyPlan() {
            addUserMessage('èƒ½ç»™æˆ‘çœ‹çœ‹ä»Šå¤©çš„è¯¦ç»†è®¡åˆ’å—ï¼Ÿ');
            setTimeout(() => {
                simulateAIResponse('ä»Šæ—¥è®¡åˆ’');
            }, 1000);
        }
        
        function showNutrition() {
            addUserMessage('æˆ‘æƒ³äº†è§£æ›´å¤šè¥å…»æ­é…çš„çŸ¥è¯†');
            setTimeout(() => {
                simulateAIResponse('è¥å…»çŸ¥è¯†');
            }, 1000);
        }
        
        function showExercise() {
            addUserMessage('èƒ½è¯¦ç»†ä»‹ç»ä¸€ä¸‹è¿åŠ¨è®¡åˆ’å—ï¼Ÿ');
            setTimeout(() => {
                simulateAIResponse('è¿åŠ¨è®¡åˆ’');
            }, 1000);
        }
        
        // é¡µé¢åŠ è½½å®Œæˆåè‡ªåŠ¨æ»šåŠ¨åˆ°åº•éƒ¨
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(scrollToBottom, 100);
        });
    </script>
</body>
</html>
